"use strict";(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[284],{4284:(O,h,c)=>{c.r(h),c.d(h,{CuponesModule:()=>H});var s=c(6814),g=c(5519),m=c(3519),d=c.n(m),u=c(9315),_=c(8446),t=c(8926),C=c(7417),f=c(856),p=c(6223),x=c(1175);function w(o,r){if(1&o&&(t.TgZ(0,"div",23),t._UZ(1,"app-popup",24),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("@loadingAnimation",n.hasLoaded?"show":"hide")("message","Puedes seleccionar multiples planes")("duration",3e3)}}function y(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",25),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.selectItem(i))}),t._UZ(2,"input",26),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA()()}if(2&o){const n=r.$implicit;t.xp6(2),t.Q6J("checked",n.selectedItem),t.xp6(2),t.Oqu(n.servicio.servicio),t.xp6(2),t.Oqu(t.gM2(7,4,n.servicio.precio_base,"USD","$","1.2-2")),t.xp6(3),t.Oqu(t.gM2(10,9,n.servicio.cobertura_global,"USD","$","1.2-2"))}}let Z=(()=>{class o{constructor(n,e,a){this.serviciosService=n,this.cuponesService=e,this.router=a,this.minDate="",this.listado_servicios=[],this.nombre=null,this.checkbox1Value=!0,this.checkbox2Value=!1,this.hasLoaded=!0,this.isReady=!1,this.minDate=(new Date).toISOString().split("T")[0]}ngOnInit(){this.hasLoaded=!1,this.serviciosService.getServicios().subscribe(n=>{n.forEach(e=>{this.listado_servicios.push({selectedItem:!1,servicio:e})}),this.hasLoaded=!0})}onCheckboxChange(n){1===n&&(this.checkbox2Value=!1),2===n&&(this.checkbox1Value=!1),this.onChangeForm()}onChangeForm(){this.isReady=!(!this.initialDate||!this.finalDate||!0!==this.checkbox1Value&&!0!==this.checkbox2Value||!this.monto||!this.oneAtLeast())}selectItem(n){console.log(n),n.selectedItem=!n.selectedItem,this.onChangeForm()}oneAtLeast(){return this.listado_servicios.some(n=>!0===n.selectedItem)}createCupon(){this.isReady||this.showError(),this.showLoading();const n=[],e=[];this.listado_servicios.filter(i=>!0===i.selectedItem).forEach(i=>{const l={fecha_desde:this.initialDate.toString(),fecha_hasta:this.finalDate.toString(),nombre:this.nombre,servicio_id:i.servicio.servicio_id,status:1,tipo_valor:this.checkbox1Value?1:2,valor:this.monto};n.push(l)}),n.forEach(i=>{e.push(this.cuponesService.postCupon(i))}),(0,u.D)(e).subscribe(i=>{d().close(),this.showSuccess(),this.router.navigate(["../dashboard/cupones/listado-cupones"]),this.isReady=!1})}showLoading(){d().fire({text:"Espere un momento mientras se procesa la informacion",imageUrl:"assets/svg/loading.svg",showConfirmButton:!1,allowOutsideClick:!1,imageWidth:50,imageHeight:50,imageAlt:"Custom image"})}showError(){d().fire({icon:"error",title:"Oops...",text:"Algo sali\xf3 mal!",footer:"Verifique que todos los campos esten llenos"})}showSuccess(){d().fire({icon:"success",title:"Cupones creados con \xe9xito",showConfirmButton:!1,timer:2500})}cancel(){this.router.navigate(["../dashboard/cupones/listado-cupones"])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.C),t.Y36(f.p),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crear-cupones"]],decls:63,vars:16,consts:[[1,"container"],[1,"process"],[1,"data"],[1,"attributes"],[1,"field"],["type","date",3,"ngModel","min","ngModelChange","change"],["placeholder","Nombre del cupon","type","text","type","text",3,"ngModel","ngModelChange"],[1,"option-checkbox"],["type","checkbox","value","checkbox1Value",3,"ngModel","ngModelChange","change"],["type","checkbox","value","checkbox2Value",3,"ngModel","ngModelChange","change"],["type","number","placeholder","10000",3,"ngModel","change","ngModelChange"],[1,"servicios-data"],["class","information-container",4,"ngIf"],[1,"table-container"],[1,"table-data"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[1,"f-start"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"buttons"],[1,"emitir",3,"click"],[1,"cancelar",3,"click"],[1,"information-container"],[3,"message","duration"],[1,"f-start",3,"click"],["type","checkbox",1,"checkbox",3,"checked"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Nuevo Cupon de descuento"),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",3)(7,"div",4)(8,"label"),t._uU(9,"Desde"),t.qZA(),t.TgZ(10,"input",5),t.NdJ("ngModelChange",function(i){return e.initialDate=i})("change",function(){return e.onChangeForm()}),t.qZA()(),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Hasta"),t.qZA(),t.TgZ(14,"input",5),t.NdJ("ngModelChange",function(i){return e.finalDate=i})("change",function(){return e.onChangeForm()}),t.qZA()(),t.TgZ(15,"div",4)(16,"label"),t._uU(17,"Nombre"),t.qZA(),t.TgZ(18,"input",6),t.NdJ("ngModelChange",function(i){return e.nombre=i}),t.qZA()(),t.TgZ(19,"div",4)(20,"label"),t._uU(21,"Tipo de descuento"),t.qZA(),t.TgZ(22,"div",7)(23,"input",8),t.NdJ("ngModelChange",function(i){return e.checkbox1Value=i})("change",function(){return e.onCheckboxChange(1)}),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Porcentual"),t.qZA()(),t.TgZ(26,"div",7)(27,"input",9),t.NdJ("ngModelChange",function(i){return e.checkbox2Value=i})("change",function(){return e.onCheckboxChange(2)}),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Monto"),t.qZA()()(),t.TgZ(30,"div",4)(31,"label"),t._uU(32,"Monto"),t.qZA(),t.TgZ(33,"input",10),t.NdJ("change",function(){return e.onChangeForm()})("ngModelChange",function(i){return e.monto=i}),t.qZA()()(),t.TgZ(34,"div",11),t.YNc(35,w,2,3,"div",12),t.TgZ(36,"div",13)(37,"div",14)(38,"div",15),t._UZ(39,"img",16),t.TgZ(40,"span"),t._uU(41,"Espere un momento, cargando la informacion"),t.qZA()(),t.TgZ(42,"table")(43,"thead")(44,"tr")(45,"th",17),t._uU(46,"Nombre"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"costo"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"cobertura"),t.qZA()()(),t.TgZ(51,"tbody"),t.YNc(52,y,11,14,"tr",18),t.qZA()()()()()()(),t.TgZ(53,"div",19)(54,"h2"),t._uU(55,"Acciones"),t.qZA(),t._UZ(56,"hr"),t.TgZ(57,"div",20)(58,"button",21),t.NdJ("click",function(){return e.createCupon()}),t._uU(59," Crear nueva cupon "),t.qZA(),t.TgZ(60,"button",22),t.NdJ("click",function(){return e.cancel()}),t._uU(61," Cancelar "),t.qZA()(),t._UZ(62,"hr"),t.qZA()()),2&n&&(t.xp6(10),t.Q6J("ngModel",e.initialDate)("min",e.minDate),t.xp6(4),t.Q6J("ngModel",e.finalDate)("min",e.minDate),t.xp6(4),t.Q6J("ngModel",e.nombre),t.xp6(5),t.Q6J("ngModel",e.checkbox1Value),t.xp6(4),t.Q6J("ngModel",e.checkbox2Value),t.xp6(6),t.Q6J("ngModel",e.monto),t.xp6(2),t.Q6J("ngIf",e.hasLoaded),t.xp6(2),t.ekj("info",e.hasLoaded),t.xp6(1),t.Q6J("@loadingAnimation",e.hasLoaded?"hide":"show"),t.xp6(4),t.Q6J("@loadingAnimation",e.hasLoaded?"show":"hide"),t.xp6(10),t.Q6J("ngForOf",e.listado_servicios),t.xp6(6),t.ekj("active",e.isReady))},dependencies:[s.sg,s.O5,p.Fj,p.wV,p.Wl,p.JJ,p.On,x.R,s.H9],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;position:absolute;width:100%;min-height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.process[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;min-height:750px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);border-radius:2px;box-shadow:0 0 5px #0003}hr[_ngcontent-%COMP%]{border:1px solid coral}span[_ngcontent-%COMP%]{color:#000}.buttons[_ngcontent-%COMP%]   button.cancelar[_ngcontent-%COMP%]:hover, .buttons[_ngcontent-%COMP%]   button.emitir.active[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .cancelar[_ngcontent-%COMP%]{background-color:var(--body-bg);color:var(--main-color);border:1px solid var(--main-color)}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:#e6dfdf;color:var(--text-color);height:-moz-fit-content;height:fit-content;min-height:30px;cursor:not-allowed}.buttons[_ngcontent-%COMP%]   .emitir.active[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;justify-content:center}.fechas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;margin:10px}.fecha[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px;height:-moz-fit-content;height:fit-content;padding:0 20px}.attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin:10px;align-items:flex-start}.attributes[_ngcontent-%COMP%]{padding:10px;width:70%}.attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:90%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:67%;margin-left:10px}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%}hr.gris[_ngcontent-%COMP%]{border:1px solid #E4E6EA;margin:10px}.pasajeros[_ngcontent-%COMP%]{margin:10px}.list-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:flex-start;gap:10px;margin:10px}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%;height:30px;border-radius:2px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.option-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.option-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.titular[_ngcontent-%COMP%]{padding-left:10px}button.add[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background:none;color:var(--main-color);fill:var(--main-color);border:none;cursor:pointer}.space-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:-moz-fit-content;height:fit-content}button.generar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out;background-color:var(--main-color);color:#fff}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:10px}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:5}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc}.table-data.info[_ngcontent-%COMP%]{position:initial;display:block;transition:all .3s ease-in-out}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:150px}.cantidad[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:-moz-fit-content;width:fit-content;background-color:var(--body-bg);border:1px solid var(--main-color);padding:2px}.cantidad[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;cursor:pointer}.btn[_ngcontent-%COMP%]{background-color:var(--main-color);border:none;border-radius:2px;margin:5px;cursor:pointer;font-size:1rem;transition:all .3s ease-in-out;width:-moz-fit-content;width:fit-content;padding:5px 10px;color:#fff}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.05}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px;margin-left:20px}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color)}th.f-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-left:20px}td.f-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:pointer}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;overflow-x:hidden;padding:0}.process[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:start}.actions[_ngcontent-%COMP%]{min-height:100%;height:100%;margin-bottom:40px}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .attributes[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px;min-width:80vw}.servicios-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:1}}"],data:{animation:[_.g]}}),o})();var b=c(2143);let T=(()=>{class o{constructor(n){this.utilsService=n}transform(n){return this.utilsService.getDate(n)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(b.F,16))},o.\u0275pipe=t.Yjl({name:"extractDate",type:o,pure:!0}),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function k(o,r){if(1&o&&(t.TgZ(0,"div",12),t._UZ(1,"app-popup",13),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("@loadingAnimation",n.hasLoaded?"show":"hide")("message","Igualmente se puede editar la informacion")("duration",3e3)}}function A(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"td",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,i=t.oxw();return t.KtG(i.showDetails(a.cupon_id))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.nombre)}}function U(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"td",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,i=t.oxw();return t.KtG(i.showDetails(a.cupon_id))}),t._uU(1,"No tiene nombre"),t.qZA()}}function q(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"td",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,i=t.oxw();return t.KtG(i.showDetails(a.cupon_id))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.valor+"%")}}function D(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"td",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,i=t.oxw();return t.KtG(i.showDetails(a.cupon_id))}),t._uU(1),t.ALo(2,"currency"),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,n.valor,"USD","symbol","1.1-2"))}}function J(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",14),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.showDetails(i.cupon_id))}),t.TgZ(2,"span"),t._uU(3),t.qZA()(),t.YNc(4,A,2,1,"td",15),t.YNc(5,U,2,0,"td",15),t.TgZ(6,"td",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.showDetails(i.cupon_id))}),t._uU(7),t.qZA(),t.YNc(8,q,2,1,"td",15),t.YNc(9,D,3,6,"td",15),t.TgZ(10,"td",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.showDetails(i.cupon_id))}),t._uU(11),t.ALo(12,"extractDate"),t.qZA(),t.TgZ(13,"td",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.showDetails(i.cupon_id))}),t._uU(14),t.ALo(15,"extractDate"),t.qZA(),t.TgZ(16,"td",14),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.editDetails(i.cupon_id))}),t.TgZ(17,"span"),t._uU(18,"Editar"),t.qZA()()()}if(2&o){const n=r.$implicit;t.xp6(3),t.hij(" ",n.cupon_id," "),t.xp6(1),t.Q6J("ngIf",n.nombre),t.xp6(1),t.Q6J("ngIf",!n.nombre),t.xp6(2),t.Oqu(n.servicio_id),t.xp6(1),t.Q6J("ngIf",1===n.tipo_valor),t.xp6(1),t.Q6J("ngIf",2===n.tipo_valor),t.xp6(2),t.Oqu(t.lcZ(12,8,n.fecha_desde)),t.xp6(3),t.hij("",t.lcZ(15,10,n.fecha_hasta)," ")}}let j=(()=>{class o{constructor(n,e){this.cupones=n,this.router=e,this.listado_Cupones=[],this.hasLoaded=!0}ngOnInit(){this.hasLoaded=!1,this.cupones.getCupones().subscribe(n=>{this.hasLoaded=!0,this.listado_Cupones=n.filter(e=>2!=e.status)})}createCupones(){this.router.navigate(["../dashboard/cupones/crear-cupones"])}showDetails(n){this.router.navigate([`../dashboard/cupones/${n}`])}editDetails(n){this.router.navigate([`../dashboard/cupones/${n}/editar`])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.p),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:39,vars:6,consts:[[1,"container"],[1,"list"],["type","text","placeholder","Buscar"],["class","information-container",4,"ngIf"],[1,"table-container"],[1,"table-data"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[4,"ngFor","ngForOf"],[1,"actions"],[1,"buttons"],[1,"emitir",3,"click"],[1,"information-container"],[3,"message","duration"],[1,"link",3,"click"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cupones"),t.qZA(),t._UZ(4,"hr")(5,"input",2),t.YNc(6,k,2,3,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6),t._UZ(10,"img",7),t.TgZ(11,"span"),t._uU(12,"Espere un momento, cargando la informacion"),t.qZA()(),t.TgZ(13,"table")(14,"thead")(15,"tr")(16,"th"),t._uU(17,"cupon_id"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Nombre"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"servicio_id"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"valor"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"fecha_desde"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"fecha_hasta"),t.qZA(),t._UZ(28,"th"),t.qZA()(),t.TgZ(29,"tbody"),t.YNc(30,J,19,12,"tr",8),t.qZA()()()()(),t.TgZ(31,"div",9)(32,"h2"),t._uU(33,"Acciones"),t.qZA(),t._UZ(34,"hr"),t.TgZ(35,"div",10)(36,"button",11),t.NdJ("click",function(){return e.createCupones()}),t._uU(37," Crear cupon "),t.qZA()(),t._UZ(38,"hr"),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("ngIf",e.hasLoaded),t.xp6(2),t.ekj("info",e.hasLoaded),t.xp6(1),t.Q6J("@loadingAnimation",e.hasLoaded?"hide":"show"),t.xp6(4),t.Q6J("@loadingAnimation",e.hasLoaded?"show":"hide"),t.xp6(17),t.Q6J("ngForOf",e.listado_Cupones))},dependencies:[s.sg,s.O5,x.R,s.H9,T],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;width:100%;top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.list[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:70%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid var(--main-color)}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:1}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc;text-align:center;display:flex;align-items:center;justify-content:center;transition:all .3s ease-in-out;position:relative}.table-data.info[_ngcontent-%COMP%]{display:block}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:150px}.cantidad[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:-moz-fit-content;width:fit-content;background-color:var(--body-bg);border:1px solid var(--main-color);padding:2px}.cantidad[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;cursor:pointer}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.btn[_ngcontent-%COMP%]{background-color:var(--main-color);color:var(--text-color);border:none;border-radius:2px;margin:5px;cursor:pointer;font-size:1rem;transition:all .3s ease-in-out;width:-moz-fit-content;width:fit-content;padding:5px 10px;color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}.buttons[_ngcontent-%COMP%]   .cotizacion[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color);height:-moz-fit-content;height:fit-content;min-height:30px}table[_ngcontent-%COMP%]{border-spacing:0px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ccc;border:1px solid var(--border-color);cursor:pointer}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}td.link[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:none;cursor:pointer}td.link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-size:15px;font-weight:700}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}.table-data[_ngcontent-%COMP%]{height:325px}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;overflow-x:hidden;padding:0}.table-data[_ngcontent-%COMP%]{height:300px}.list[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:90%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666;height:40px;font-size:medium}.table-container[_ngcontent-%COMP%]{height:400px;overflow-y:hidden}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px;min-width:80vw}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;padding:0 20px;margin-bottom:-40px}}"],data:{animation:[_.g]}}),o})();var v=c(4664);function E(o,r){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"img",8),t.TgZ(2,"span"),t._uU(3,"Espere un momento, cargando la informacion"),t.qZA()()),2&o){const n=t.oxw();t.Q6J("@loadingAnimation",n.hasLoaded?"hide":"show")}}function z(o,r){if(1&o&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.nombre," ")}}function L(o,r){1&o&&(t.TgZ(0,"span",13),t._uU(1," No tiene nombre "),t.qZA())}function S(o,r){if(1&o&&(t.TgZ(0,"li")(1,"a",15),t._uU(2),t.qZA()()),2&o){const n=r.$implicit;t.xp6(2),t.Oqu(n.servicio)}}function I(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",9)(2,"span",10),t._uU(3," Nombre "),t.qZA(),t.YNc(4,z,2,1,"span",11),t.YNc(5,L,2,0,"span",11),t.qZA(),t.TgZ(6,"div",9)(7,"div",12)(8,"div",9)(9,"span",10),t._uU(10," Desde "),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.qZA()(),t.TgZ(13,"div",9)(14,"span",10),t._uU(15," Hasta "),t.qZA(),t.TgZ(16,"span",13),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",9)(19,"span",10),t._uU(20," Descuento "),t.qZA(),t.TgZ(21,"span",13),t._uU(22," 15 % "),t.qZA()(),t.TgZ(23,"div",9)(24,"span",10),t._uU(25," Planes incluidos "),t.qZA(),t.TgZ(26,"span",13)(27,"ul"),t.YNc(28,S,3,1,"li",14),t.qZA()()(),t.BQk()),2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngIf",n.nombre),t.xp6(1),t.Q6J("ngIf",!n.nombre),t.xp6(7),t.hij(" ",n.initialDate," "),t.xp6(5),t.hij(" ",n.finalDate," "),t.xp6(11),t.Q6J("ngForOf",n.listado_servicios)}}function F(o,r){if(1&o&&(t.TgZ(0,"div",27),t._UZ(1,"app-popup",28),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("@loadingAnimation",n.hasLoaded?"show":"hide")("message","Solamente puedes seleccionar un servicio")("duration",3e3)}}function Q(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",29),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.selectItem(i))}),t._UZ(2,"input",30),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA()()}if(2&o){const n=r.$implicit;t.xp6(2),t.Q6J("checked",n.selectedItem),t.xp6(2),t.Oqu(n.servicio.servicio),t.xp6(2),t.Oqu(t.gM2(7,4,n.servicio.precio_base,"USD","$","1.2-2")),t.xp6(3),t.Oqu(t.gM2(10,9,n.servicio.cobertura_global,"USD","$","1.2-2"))}}const V=[{path:"cupones",children:[{path:"crear-cupones",component:Z},{path:"listado-cupones",component:j},{path:":id",component:(()=>{class o{constructor(n,e,a,i,l){this.serviciosService=n,this.cuponesService=e,this.router=a,this.route=i,this.utilsService=l,this.minDate="",this.listado_servicios=[],this.nombre=null,this.checkbox1Value=!0,this.checkbox2Value=!1,this.hasLoaded=!0,this.isReady=!1,this.minDate=(new Date).toISOString().split("T")[0]}ngOnInit(){const n=parseInt(this.route.snapshot.paramMap.get("id")??"0");this.hasLoaded=!1,this.cuponesService.getCuponById(n).pipe((0,v.w)(e=>(this.cupon=e[0],this.nombre=this.cupon.nombre?this.cupon.nombre:null,this.initialDate=this.utilsService.getDateDto(this.cupon.fecha_desde).toISOString().slice(0,10),this.finalDate=this.utilsService.getDateDto(this.cupon.fecha_hasta).toISOString().slice(0,10),this.monto=this.cupon.valor,this.checkbox1Value=1===this.cupon.tipo_valor,this.checkbox2Value=2===this.cupon.tipo_valor,this.serviciosService.getServicios()))).subscribe(e=>{this.listado_servicios=e.filter(a=>this.cupon?.servicio_id===a.servicio_id),this.hasLoaded=!0})}showDetails(n){this.router.navigate([`../dashboard/cupon/${n}`])}editDetails(n){this.router.navigate([`../dashboard/cupones/${n}/editar`])}deleteCupon(n){d().fire({title:"\xbfEst\xe1s seguro?",text:"Estas seguro de eliminar el cupon?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, estoy seguro"}).then(e=>{e.isConfirmed&&(this.showLoading(),this.cuponesService.deleteCupon(n).subscribe(a=>{console.log(a),d().close(),this.showSuccess(),this.router.navigate(["../dashboard/cupones/listado-cupones"])}))})}showLoading(){d().fire({text:"Espere un momento mientras se procesa la informacion",imageUrl:"assets/svg/loading.svg",showConfirmButton:!1,allowOutsideClick:!1,imageWidth:50,imageHeight:50,imageAlt:"Custom image"})}showSuccess(){d().fire({icon:"success",title:"Cupon eliminado exitosamente",showConfirmButton:!1,timer:2500})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.C),t.Y36(f.p),t.Y36(g.F0),t.Y36(g.gz),t.Y36(b.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cupon"]],decls:9,vars:2,consts:[[1,"container"],[1,"process"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"actions"],[1,"edit",3,"click"],[1,"delete",3,"click"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[1,"field"],[1,"title"],["class","description",4,"ngIf"],[1,"row"],[1,"description"],[4,"ngFor","ngForOf"],["href",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,E,4,1,"div",2),t.YNc(3,I,29,5,"ng-container",3),t.qZA(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return e.editDetails(null==e.cupon?null:e.cupon.cupon_id)}),t._uU(6," Editar cupon "),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return e.deleteCupon(null==e.cupon?null:e.cupon.cupon_id)}),t._uU(8," Eliminar cupon "),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!e.hasLoaded),t.xp6(1),t.Q6J("ngIf",e.hasLoaded))},dependencies:[s.sg,s.O5],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;position:absolute;width:100%;min-height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.process[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;min-height:750px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);border-radius:2px;box-shadow:0 0 5px #0003}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:10px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center}.description[_ngcontent-%COMP%]{font-size:20px;color:var(--text-color);font-weight:700}.process[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;align-items:center;justify-content:center}button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:5px;margin:10px;font-weight:700}button.edit[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:1px solid var(--main-color)}button.delete[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color)}button.edit[_ngcontent-%COMP%]:hover{background-color:var(--hover-main-color)}button.delete[_ngcontent-%COMP%]:hover{background-color:#dad8e8}ul[_ngcontent-%COMP%]{margin:20px}li[_ngcontent-%COMP%]{margin:10px;color:var(--main-color)}a[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:underline}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;overflow-x:hidden;padding:0}.process[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;min-height:-moz-fit-content;min-height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:start}.actions[_ngcontent-%COMP%]{min-height:100%;height:100%;margin-bottom:40px}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .attributes[_ngcontent-%COMP%]{width:100%}.process[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px;min-width:80vw}.servicios-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:1}}"]}),o})()},{path:":id/editar",component:(()=>{class o{constructor(n,e,a,i,l){this.serviciosService=n,this.cuponesService=e,this.router=a,this.route=i,this.utilsService=l,this.minDate="",this.listado_servicios=[],this.nombre=null,this.checkbox1Value=!0,this.checkbox2Value=!1,this.hasLoaded=!0,this.isReady=!1,this.minDate=(new Date).toISOString().split("T")[0]}ngOnInit(){const n=parseInt(this.route.snapshot.paramMap.get("id")??"0");this.hasLoaded=!1,this.cuponesService.getCuponById(n).pipe((0,v.w)(e=>(this.cupon=e[0],this.nombre=this.cupon.nombre?this.cupon.nombre:null,this.initialDate=this.utilsService.getDateDto(this.cupon.fecha_desde).toISOString().slice(0,10),this.finalDate=this.utilsService.getDateDto(this.cupon.fecha_hasta).toISOString().slice(0,10),this.monto=this.cupon.valor,this.checkbox1Value=1===this.cupon.tipo_valor,this.checkbox2Value=2===this.cupon.tipo_valor,this.serviciosService.getServicios()))).subscribe(e=>{e.forEach(a=>{this.listado_servicios.push({selectedItem:this.cupon?.servicio_id===a.servicio_id,servicio:a}),this.hasLoaded=!0})})}onCheckboxChange(n){1===n&&(this.checkbox2Value=!1),2===n&&(this.checkbox1Value=!1),this.onChangeForm()}onChangeForm(){this.nombre&&console.log("hola"),this.isReady=!!(this.initialDate&&this.finalDate&&(!0===this.checkbox1Value||!0===this.checkbox2Value)&&this.monto&&this.oneAtLeast()&&this.nombre)}selectItem(n){this.uncheckServices(),n.selectedItem=!n.selectedItem,this.onChangeForm()}uncheckServices(){this.listado_servicios.forEach(n=>n.selectedItem=!1)}oneAtLeast(){return this.listado_servicios.some(n=>!0===n.selectedItem)}editCupon(){if(!this.isReady)return void this.showError();this.showLoading();const n=[],e=[];this.listado_servicios.filter(i=>!0===i.selectedItem).forEach(i=>{const l={fecha_desde:this.initialDate.toString(),fecha_hasta:this.finalDate.toString(),servicio_id:i.servicio.servicio_id,nombre:this.nombre,status:1,tipo_valor:this.checkbox1Value?1:2,valor:this.monto};n.push(l)}),n.forEach(i=>{this.cupon?.cupon_id&&e.push(this.cuponesService.editCupon(this.cupon?.cupon_id,i))}),(0,u.D)(e).subscribe(i=>{d().close(),this.showSuccess(),this.router.navigate(["../dashboard/cupones/listado-cupones"]),this.isReady=!1})}showLoading(){d().fire({text:"Espere un momento mientras se procesa la informacion",imageUrl:"assets/svg/loading.svg",showConfirmButton:!1,allowOutsideClick:!1,imageWidth:50,imageHeight:50,imageAlt:"Custom image"})}showError(){d().fire({icon:"error",title:"Oops...",text:"Algo sali\xf3 mal!",footer:"Verifique que todos los campos esten llenos"})}showSuccess(){d().fire({icon:"success",title:"Cupones editado con exito",showConfirmButton:!1,timer:2500})}cancel(){this.router.navigate(["../dashboard/cupones/listado-cupones"])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.C),t.Y36(f.p),t.Y36(g.F0),t.Y36(g.gz),t.Y36(b.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-cupon"]],decls:73,vars:17,consts:[[1,"container"],[1,"process"],[1,"data"],[1,"attributes"],[1,"field"],["type","date",3,"ngModel","min","ngModelChange","change"],["placeholder","Nombre","type","text",3,"ngModel","ngModelChange","keyup"],[1,"option-checkbox"],["type","checkbox","value","checkbox1Value",3,"ngModel","ngModelChange","change"],["type","checkbox","value","checkbox2Value",3,"ngModel","ngModelChange","change"],["type","number","placeholder","10000",3,"ngModel","change","ngModelChange"],[1,"servicios-data"],["class","information-container",4,"ngIf"],[1,"table-container"],[1,"table-data"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[1,"f-start"],[4,"ngFor","ngForOf"],[1,"table-selector"],[1,"pagination"],[1,"btn","active"],[1,"btn"],[1,"actions"],[1,"buttons"],[1,"emitir",3,"click"],[1,"cancelar",3,"click"],[1,"information-container"],[3,"message","duration"],[1,"f-start",3,"click"],["type","checkbox",1,"checkbox",3,"checked"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",3)(7,"div",4)(8,"label"),t._uU(9,"Desde"),t.qZA(),t.TgZ(10,"input",5),t.NdJ("ngModelChange",function(i){return e.initialDate=i})("change",function(){return e.onChangeForm()}),t.qZA()(),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Hasta"),t.qZA(),t.TgZ(14,"input",5),t.NdJ("ngModelChange",function(i){return e.finalDate=i})("change",function(){return e.onChangeForm()}),t.qZA()(),t.TgZ(15,"div",4)(16,"label"),t._uU(17,"Nombre"),t.qZA(),t.TgZ(18,"input",6),t.NdJ("ngModelChange",function(i){return e.nombre=i})("keyup",function(){return e.onChangeForm()}),t.qZA()(),t.TgZ(19,"div",4)(20,"label"),t._uU(21,"Tipo de descuento"),t.qZA(),t.TgZ(22,"div",7)(23,"input",8),t.NdJ("ngModelChange",function(i){return e.checkbox1Value=i})("change",function(){return e.onCheckboxChange(1)}),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Porcentual"),t.qZA()(),t.TgZ(26,"div",7)(27,"input",9),t.NdJ("ngModelChange",function(i){return e.checkbox2Value=i})("change",function(){return e.onCheckboxChange(2)}),t.qZA(),t.TgZ(28,"span"),t._uU(29,"Monto"),t.qZA()()(),t.TgZ(30,"div",4)(31,"label"),t._uU(32,"Monto"),t.qZA(),t.TgZ(33,"input",10),t.NdJ("change",function(){return e.onChangeForm()})("ngModelChange",function(i){return e.monto=i}),t.qZA()()(),t.TgZ(34,"div",11),t.YNc(35,F,2,3,"div",12),t.TgZ(36,"div",13)(37,"div",14)(38,"div",15),t._UZ(39,"img",16),t.TgZ(40,"span"),t._uU(41,"Espere un momento, cargando la informacion"),t.qZA()(),t.TgZ(42,"table")(43,"thead")(44,"tr")(45,"th",17),t._uU(46,"Nombre"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"costo"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"cobertura"),t.qZA()()(),t.TgZ(51,"tbody"),t.YNc(52,Q,11,14,"tr",18),t.qZA()()(),t.TgZ(53,"div",19)(54,"div",20)(55,"button",21)(56,"span"),t._uU(57,"1"),t.qZA()(),t.TgZ(58,"button",22)(59,"span"),t._uU(60,"2"),t.qZA()(),t.TgZ(61,"div",22),t._uU(62," Siguiente "),t.qZA()()()()()()(),t.TgZ(63,"div",23)(64,"h2"),t._uU(65,"Acciones"),t.qZA(),t._UZ(66,"hr"),t.TgZ(67,"div",24)(68,"button",25),t.NdJ("click",function(){return e.editCupon()}),t._uU(69," Editar "),t.qZA(),t.TgZ(70,"button",26),t.NdJ("click",function(){return e.cancel()}),t._uU(71," Cancelar "),t.qZA()(),t._UZ(72,"hr"),t.qZA()()),2&n&&(t.xp6(4),t.hij("Editar cupon (",null==e.cupon?null:e.cupon.nombre,")"),t.xp6(6),t.Q6J("ngModel",e.initialDate)("min",e.minDate),t.xp6(4),t.Q6J("ngModel",e.finalDate)("min",e.minDate),t.xp6(4),t.Q6J("ngModel",e.nombre),t.xp6(5),t.Q6J("ngModel",e.checkbox1Value),t.xp6(4),t.Q6J("ngModel",e.checkbox2Value),t.xp6(6),t.Q6J("ngModel",e.monto),t.xp6(2),t.Q6J("ngIf",e.hasLoaded),t.xp6(2),t.ekj("info",e.hasLoaded),t.xp6(1),t.Q6J("@loadingAnimation",e.hasLoaded?"hide":"show"),t.xp6(4),t.Q6J("@loadingAnimation",e.hasLoaded?"show":"hide"),t.xp6(10),t.Q6J("ngForOf",e.listado_servicios),t.xp6(16),t.ekj("active",e.isReady))},dependencies:[s.sg,s.O5,p.Fj,p.wV,p.Wl,p.JJ,p.On,x.R,s.H9],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;position:absolute;width:100%;min-height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.process[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;min-height:750px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);border-radius:2px;box-shadow:0 0 5px #0003}hr[_ngcontent-%COMP%]{border:1px solid coral}span[_ngcontent-%COMP%]{color:#000}.buttons[_ngcontent-%COMP%]   button.cancelar[_ngcontent-%COMP%]:hover, .buttons[_ngcontent-%COMP%]   button.emitir.active[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .cancelar[_ngcontent-%COMP%]{background-color:var(--body-bg);color:var(--main-color);border:1px solid var(--main-color)}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:#e6dfdf;color:var(--text-color);height:-moz-fit-content;height:fit-content;min-height:30px;cursor:not-allowed}.buttons[_ngcontent-%COMP%]   .emitir.active[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;justify-content:center}.fechas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;margin:10px}.fecha[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px;height:-moz-fit-content;height:fit-content;padding:0 20px}.attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin:10px;align-items:flex-start}.attributes[_ngcontent-%COMP%]{padding:10px;width:70%}.attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .attributes[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:90%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:67%;margin-left:10px}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%}hr.gris[_ngcontent-%COMP%]{border:1px solid #E4E6EA;margin:10px}.pasajeros[_ngcontent-%COMP%]{margin:10px}.list-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:flex-start;gap:10px;margin:10px}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%;height:30px;border-radius:2px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.option-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.option-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.titular[_ngcontent-%COMP%]{padding-left:10px}button.add[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background:none;color:var(--main-color);fill:var(--main-color);border:none;cursor:pointer}.space-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:-moz-fit-content;height:fit-content}button.generar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out;background-color:var(--main-color);color:#fff}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:5}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:10px}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc;text-align:center;display:flex;align-items:center;justify-content:center;transition:all .3s ease-in-out;position:relative}.table-data.info[_ngcontent-%COMP%]{position:initial;display:block;transition:all .3s ease-in-out}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:150px}.cantidad[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:-moz-fit-content;width:fit-content;background-color:var(--body-bg);border:1px solid var(--main-color);padding:2px}.cantidad[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;cursor:pointer}.btn[_ngcontent-%COMP%]{background-color:var(--main-color);border:none;border-radius:2px;margin:5px;cursor:pointer;font-size:1rem;transition:all .3s ease-in-out;width:-moz-fit-content;width:fit-content;padding:5px 10px;color:#fff}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.05}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px;margin-left:20px}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color)}th.f-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-left:20px}td.f-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:pointer}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr;overflow-x:hidden;padding:0}.process[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:start}.actions[_ngcontent-%COMP%]{min-height:100%;height:100%;margin-bottom:40px}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .attributes[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px;font-size:10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px;min-width:80vw}.servicios-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;position:relative;padding:0 20px;margin-bottom:-40px;z-index:1}}"],data:{animation:[_.g]}}),o})()}]}];let Y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(V),g.Bz]}),o})();var B=c(9862),P=c(2121),$=c(801),R=c(1837);let H=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,B.JF,Y,P.D,$.K,p.UX,p.u5,P.D,R.m]}),o})()},8446:(O,h,c)=>{c.d(h,{g:()=>g});var s=c(6825);const g=(0,s.X$)("loadingAnimation",[(0,s.SB)("show",(0,s.oB)({opacity:1})),(0,s.SB)("hide",(0,s.oB)({opacity:0,display:"none"})),(0,s.eR)("show <=> hide",(0,s.jt)("500ms ease-in-out"))])},1837:(O,h,c)=>{c.d(h,{m:()=>d});var s=c(6814),g=c(6223),m=c(8926);let d=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=m.oAB({type:u}),u.\u0275inj=m.cJS({imports:[s.ez,g.UX,g.u5]}),u})()}}]);