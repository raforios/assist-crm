"use strict";(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[592],{4638:(M,h,r)=>{r.r(h),r.d(h,{SiniestrosModule:()=>f});var c=r(6814),m=r(5519),a=r(9160),d=r(2001),u=r(8926);let s=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275cmp=u.Xpm({type:p,selectors:[["ng-component"]],decls:2,vars:0,template:function(v,P){1&v&&(u.TgZ(0,"p"),u._uU(1,"siniestro-edit works!"),u.qZA())}}),p})();var t=r(5220);const e=[{path:"siniestro",component:a.o,children:[{path:"listado-siniestros",component:t.Y},{path:":id",component:d.$},{path:":id/edit",component:s}]}];let o=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[m.Bz.forChild(e),m.Bz]}),p})();var n=r(2121),i=r(8194),l=r(6223),g=r(1837);let f=(()=>{class p{}return p.\u0275fac=function(v){return new(v||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[c.ez,o,m.Bz,n.D,l.UX,l.u5,g.m,l.UX,l.u5,i.J7]}),p})()},7093:(M,h,r)=>{r.d(h,{gY:()=>c,nf:()=>d});const c=(t,e,o,n)=>{let i=JSON.parse(n);const l=o?m(i,e,t):a(i,e,t);return JSON.stringify(l)},m=(t,e,o)=>{const n=t,i=n.permissions.find(l=>l.area===e);return i?i.area_permissions.find(g=>g===o)||(i.area_permissions=[...i.area_permissions,o]):n.permissions.push({area:e,area_permissions:[o]}),n},a=(t,e,o)=>{const n=t,i=n.permissions.find(l=>l.area===e);return i&&(i.area_permissions=i.area_permissions.filter(l=>l!=o),n.permissions=n.permissions.filter(l=>l.area_permissions.length>0)),n},d=(t,e)=>{const o=e.rol_id.split(",").map(i=>+i),n=t.filter(i=>o.includes(i.rol_id));return u(n)},u=t=>{let e=[];return t.forEach(o=>{const n=JSON.parse(o.rol_structure);e=[...e,...n.permissions]}),s(e)},s=t=>t.reduce((e,o)=>(e.some(i=>i.area===o.area)||e.push(o),e),[])},1175:(M,h,r)=>{r.d(h,{R:()=>s});var c=r(6825);const m=(0,c.X$)("fadeInOut",[(0,c.SB)("void",(0,c.oB)({opacity:0})),(0,c.eR)(":enter, :leave",[(0,c.jt)("1s",(0,c.oB)({opacity:1}))])]);var a=r(8926),d=r(6814);function u(t,e){if(1&t&&(a.O4$(),a.kcU(),a.TgZ(0,"div",4)(1,"span"),a._uU(2),a.qZA()()),2&t){const o=a.oxw();a.xp6(2),a.Oqu(o.message)}}let s=(()=>{class t{constructor(){this.message="",this.duration=0,this.show=!1}showPopup(){this.show=!0,setTimeout(()=>{this.hidePopup()},this.duration)}hidePopup(){this.show=!1}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-popup"]],inputs:{message:"message",duration:"duration"},decls:5,vars:3,consts:[[1,"hover-container",3,"mouseenter","click","mouseleave"],["xmlns","http://www.w3.org/2000/svg","height","40","viewBox","0 96 960 960","width","40"],["d","M482 811.333q17.667 0 29.833-12.166Q524 787 524 769.333q0-17.666-12.167-29.833-12.166-12.166-29.833-12.166-17.666 0-29.833 12.166Q440 751.667 440 769.333q0 17.667 12.167 29.834 12.167 12.166 29.833 12.166Zm-35.333-148.666h64q0-28.334 6.833-49 6.833-20.667 41.166-50.334 29.334-26 43.001-50.5 13.666-24.5 13.666-55.5 0-53.999-36.666-85.333-36.667-31.333-93.334-31.333-51.666 0-88.5 26.333Q360 393.333 344 436l57.333 22q9-24.667 29.5-42t52.5-17.333q33.334 0 52.667 18.166 19.334 18.167 19.334 44.5 0 21.334-12.667 40.167-12.667 18.833-35.334 37.834-34.666 30.333-47.666 53.999-13 23.667-13 69.334ZM480 976q-82.333 0-155.333-31.5t-127.334-85.833Q143 804.333 111.5 731.333T80 576q0-83 31.5-156t85.833-127q54.334-54 127.334-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 82.333-31.5 155.333T763 858.667Q709 913 636 944.5T480 976Z"],["class","hover-content",4,"ngIf"],[1,"hover-content"]],template:function(o,n){1&o&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return n.showPopup()})("click",function(){return n.showPopup()})("mouseleave",function(){return n.hidePopup()}),a.TgZ(1,"button"),a.O4$(),a.TgZ(2,"svg",1),a._UZ(3,"path",2),a.qZA()(),a.YNc(4,u,3,1,"div",3),a.qZA()),2&o&&(a.xp6(1),a.ekj("show",n.show),a.xp6(3),a.Q6J("ngIf",n.show))},dependencies:[d.O5],styles:['.hover-container[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:3}button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;fill:var(--main-color);transition:all .3s ease-in-out}button.show[_ngcontent-%COMP%]{scale:1.1;rotate:10deg}.hover-content[_ngcontent-%COMP%]{position:absolute;width:200px;top:-100%;left:50%;transform:translate(-50%);background-color:#fff;padding:10px;border:1px solid #ccc;visibility:hidden;opacity:0;transition:visibility 0s linear 2s,opacity .2s;z-index:4;border-radius:10px}.hover-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-align:center;display:flex;align-items:center;justify-content:center}.hover-content[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#ccc transparent transparent transparent}.hover-container[_ngcontent-%COMP%]:hover   .hover-content[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:-140%}'],data:{animation:[m]}}),t})()},6310:(M,h,r)=>{r.d(h,{B:()=>d});var c=r(8926),m=r(8645),a=r(3620);let d=(()=>{class u{constructor(){this.debouncer=new m.x,this.placeholder="",this.onValue=new c.vpe,this.onDebounce=new c.vpe}ngOnInit(){this.debouncer.pipe((0,a.b)(300)).subscribe(t=>{this.onDebounce.emit(t)})}emitValue(t){this.onValue.emit(t)}onKeyPress(t){this.debouncer.next(t)}}return u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=c.Xpm({type:u,selectors:[["search-box"]],inputs:{placeholder:"placeholder"},outputs:{onValue:"onValue",onDebounce:"onDebounce"},decls:2,vars:1,consts:[["type","text",3,"placeholder","keyup"],["txtInput",""]],template:function(t,e){if(1&t){const o=c.EpF();c.TgZ(0,"input",0,1),c.NdJ("keyup",function(){c.CHM(o);const i=c.MAs(1);return c.KtG(e.onKeyPress(i.value))}),c.qZA()}2&t&&c.Q6J("placeholder",e.placeholder)},styles:["input[_ngcontent-%COMP%]{margin:10px;width:90%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666;height:40px;font-size:medium}"]}),u})()},5080:(M,h,r)=>{r.d(h,{x:()=>t});var c=r(9862),m=r(7398),a=r(6306),d=r(8504),u=r(553),s=r(8926);let t=(()=>{class e{constructor(n){this.http=n,this.apiUrl=u.N.apiUrl+"/reembolsos"}getReembolsos(){return this.http.get(this.apiUrl)}getReembolsosById(n){let i=new c.LE;return i=i.append("id",n),this.http.get(this.apiUrl,{params:i}).pipe((0,m.U)(l=>{if(l.length>0)return l;throw new Error("No se encontro el reembolso")}),(0,a.K)(l=>(0,d._)(()=>l.error.message)))}postReembolso(n,i,l,g,f,p,_,v,P,C,E,O){return this.http.post(this.apiUrl,{siniestro_id:n,cliente:i,nombre_propietario_cuenta:l,nro_identificacion:g,nro_cuenta:f,codigo_swift:p,banco:_,pais:v,ciudad:P,fecha_emision:C,status:E,monto:O}).pipe((0,a.K)(D=>{throw new Error(D)}))}updateReembolsos(n,i){return this.http.put(`${this.apiUrl}?id=${n}`,i)}}return e.\u0275fac=function(n){return new(n||e)(s.LFG(c.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2143:(M,h,r)=>{r.d(h,{F:()=>a});var c=r(6223),m=r(8926);let a=(()=>{class d{constructor(){}DivideByAge(s){const t=[],e=[];let o=0;return s.forEach(n=>{1*n.age<75?t.push(n):e.push(n)}),t.length>0&&o++,e.length>0&&o++,{cotizacionesMenores:t,cotizacionesMayores:e,minPlanes:o}}compararFechas(s,t){const e=new Date(s),o=new Date(t),n=Math.abs(o.getTime()-e.getTime()),i=Math.floor(n/864e5);return isNaN(i)?-1:i+1}haveRequirements(s,t){if(!s.disponibilidad)return!1;const e=s.disponibilidad.split(",");return t.every(o=>e.includes(o))}haveRange(s,t,e){const o=t;return e.filter(i=>!(!this.betweenTheRange(i.limite_inferior,i.limite_superior,o)||1*i.servicio_id!=1*s.servicio_id)).length>0}createItemForm(){return new c.cw({age:new c.NI(null,[c.kI.required,c.kI.pattern("^[0-9]*$")])})}betweenTheRange(s,t,e){return 1*e>=1*s&&1*e<=1*t}getDate(s){const t=new Date(s);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`}getDateDto(s){const e=this.getDate(s).split("/"),o=Number(e[0]),n=Number(e[1])-1,i=Number(e[2]);return new Date(o,n,i)}obtenerCostoPlan(s,t,e){const o=s.find(n=>!(+n.servicio_id!=+t||!this.betweenTheRange(n.limite_inferior,n.limite_superior,e)));return o?this.realizarCalculo(o,e):-1}realizarCalculo(s,t){let e=0;return 1*s.tipo_ecuacion==1&&(e=1*this.ecuacionCurva(s,t)*t*1),1*s.tipo_ecuacion==2&&(e=1*this.ecuacionRecta(s,t)*t*1),e}ecuacionCurva(s,t){return 1*Math.pow(t,s.intercepto)*s.pendiente*1}ecuacionRecta(s,t){return s.pendiente*t*1+1*s.intercepto}mapListBeneficio(s,t){const e=[];return t.forEach(o=>{const n=s.filter(l=>l.tipo_beneficio===o.valor);e.push({tipo_beneficio:o,beneficios:n,isSubDropdownOpen:!1})}),e}mapListBeneficioCat(s,t){const e=[];return t.forEach(o=>{const n=s.filter(l=>l.tipo_beneficio===o.valor);e.push({tipo_beneficio:o,beneficios:n,subDropdownOpen:!1})}),e}filterCouponsByDates(s){return s.filter(t=>{const e=new Date,n=(new Date(t.fecha_desde),new Date(t.fecha_hasta));return e>=e&&e<n})}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},3620:(M,h,r)=>{r.d(h,{b:()=>d});var c=r(6321),m=r(9360),a=r(8251);function d(u,s=c.z){return(0,m.e)((t,e)=>{let o=null,n=null,i=null;const l=()=>{if(o){o.unsubscribe(),o=null;const f=n;n=null,e.next(f)}};function g(){const f=i+u,p=s.now();if(p<f)return o=this.schedule(void 0,f-p),void e.add(o);l()}t.subscribe((0,a.x)(e,f=>{n=f,i=s.now(),o||(o=s.schedule(g,u),e.add(o))},()=>{l(),e.complete()},void 0,()=>{n=o=null}))})}}}]);