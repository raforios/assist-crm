"use strict";(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[710],{1710:(He,A,c)=>{c.r(A),c.d(A,{PolizasModule:()=>je});var h=c(6814),J=c(801),s=c(6223),F=c(2121),m=c(228),g=c(4664),E=c(8446),e=c(4769),x=c(8735),q=c(6757),B=c(510),C=c(7417),P=c(9286),k=c(3333),Y=c(8898);function L(i,r){if(1&i&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"zeroFilter"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.beneficiario.primer_nombre))}}function Q(i,r){if(1&i&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"zeroFilter"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.beneficiario.segundo_nombre))}}function j(i,r){if(1&i&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"zeroFilter"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.beneficiario.primer_apellido))}}function G(i,r){if(1&i&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"zeroFilter"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.beneficiario.segundo_apellido))}}function W(i,r){1&i&&(e.TgZ(0,"span",21),e._uU(1,"Vigente"),e.qZA())}function H(i,r){1&i&&(e.TgZ(0,"span",22),e._uU(1,"Congelada"),e.qZA())}function $(i,r){1&i&&(e.TgZ(0,"span",23),e._uU(1,"Activa"),e.qZA())}function K(i,r){1&i&&(e.TgZ(0,"span",24),e._uU(1,"Anulada"),e.qZA())}function V(i,r){1&i&&(e.TgZ(0,"span",24),e._uU(1,"En Proceso"),e.qZA())}const R=function(i){return["../../polizas",i]};function X(i,r){if(1&i&&(e.TgZ(0,"tr",13)(1,"td"),e.YNc(2,L,3,3,"span",14),e.YNc(3,Q,3,3,"span",14),e.YNc(4,j,3,3,"span",14),e.YNc(5,G,3,3,"span",14),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,W,2,0,"span",15),e.YNc(14,H,2,0,"span",16),e.YNc(15,$,2,0,"span",17),e.YNc(16,K,2,0,"span",18),e.YNc(17,V,2,0,"span",18),e.qZA(),e.TgZ(18,"td",19)(19,"a"),e._uU(20,"Editar"),e.qZA()()()),2&i){const t=r.$implicit;e.Q6J("routerLink",e.VKq(13,R,t.beneficiario.poliza_id)),e.xp6(2),e.Q6J("ngIf",t.beneficiario.primer_nombre),e.xp6(1),e.Q6J("ngIf",t.beneficiario.segundo_nombre),e.xp6(1),e.Q6J("ngIf",t.beneficiario.primer_apellido),e.xp6(1),e.Q6J("ngIf",t.beneficiario.segundo_apellido),e.xp6(2),e.hij("",t.polizaBeneficiario.destino," "),e.xp6(2),e.hij("",t.siniestrosBeneficiario.length," "),e.xp6(2),e.Oqu(t.servicioBeneficiario.servicio),e.xp6(2),e.Q6J("ngIf",0===t.polizaBeneficiario.status),e.xp6(1),e.Q6J("ngIf",1===t.polizaBeneficiario.status),e.xp6(1),e.Q6J("ngIf",2===t.polizaBeneficiario.status),e.xp6(1),e.Q6J("ngIf",3===t.polizaBeneficiario.status),e.xp6(1),e.Q6J("ngIf",4===t.polizaBeneficiario.status)}}function ee(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"table")(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Cliente(a) Nro Poliza"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Destinos"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Siniestros"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Planes incluidos"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Estado"),e.qZA(),e._UZ(14,"th",11),e.qZA()(),e.TgZ(15,"tbody"),e.YNc(16,X,21,15,"tr",12),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("@loadingAnimation",t.hasLoaded?"show":"hide"),e.xp6(15),e.Q6J("ngForOf",t._filteredListInfo)}}function te(i,r){1&i&&(e.ynx(0),e.TgZ(1,"div",25),e.O4$(),e.TgZ(2,"svg",26),e._UZ(3,"path",27),e.qZA(),e.kcU(),e.TgZ(4,"span"),e._uU(5,"No se encontro ninguna poliza"),e.qZA()(),e.BQk())}let ne=(()=>{class i{showDetails(){this.showComponent=!this.showComponent}constructor(t,n,o,a,l,d,p){this.elRef=t,this.polizaServices=n,this.clienteServices=o,this.siniestroService=a,this.serviciosServices=l,this.beneficiarioService=d,this.router=p,this.listado_Polizas=[],this.listado_clientes=[],this.listado_Siniestros=[],this.listado_beneficiarios=[],this.listado_servicios=[],this.listInfo=[],this._filteredListInfo=[],this.filterText="",this.showComponent=!1,this.hasLoaded=!0}ngOnInit(){this.hasLoaded=!1,this.polizaServices.getPolizas().pipe((0,g.w)(t=>(this.listado_Polizas=t,this.beneficiarioService.getBeneficiario())),(0,g.w)(t=>(this.listado_beneficiarios=t,this.siniestroService.getSiniestros())),(0,g.w)(t=>(this.listado_Siniestros=t,this.serviciosServices.getServicios()))).subscribe(t=>{this.listado_servicios=t,this.listado_Polizas=this.listado_Polizas.map(o=>{if(0===o.status){const a=new Date(o.fecha_salida),l=new Date,d=new Date(l);return d.setDate(l.getDate()-1),a<d&&(o.status=2),o}return o}),this.listInfo=this.mapData(this.listado_Polizas,this.listado_beneficiarios,this.listado_Siniestros,this.listado_servicios),this._filteredListInfo=this.listInfo,this.hasLoaded=!0})}onWindowScroll(){const t=this.elRef.nativeElement.querySelector(".table-container"),n=t.querySelector("thead"),o=t.querySelectorAll("tbody tr"),a=t.getBoundingClientRect(),l=n.getBoundingClientRect(),d=o[o.length-1].getBoundingClientRect();if(a.top+l.height>window.innerHeight||a.bottom-d.height<0)n.style.visibility="hidden";else{n.style.visibility="visible";for(let p=0;p<o.length;p++)o[p].style.visibility="visible"}}get filterPolizas(){return this._filteredListInfo}set FilterText(t){this.filterText=t}createPolizas(){this.router.navigate(["../dashboard/polizas/generar-polizas"])}mapData(t,n,o,a){n.forEach(d=>{t.find(f=>f.poliza_id===d.poliza_id)});const l=n.map(d=>{const p=o.filter(_=>_.beneficiario_id===d.beneficiario_id),f=t.find(_=>_.poliza_id===d.poliza_id),u=a.find(_=>_.servicio_id===f?.servicio_id);return{beneficiario:d,siniestrosBeneficiario:p,polizaBeneficiario:f,servicioBeneficiario:u}});return console.log(l),l}filterByPolizaId(t){this._filteredListInfo=this.listInfo.filter(n=>n.polizaBeneficiario.poliza_id.toString().includes(t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(x.I),e.Y36(q.Y),e.Y36(B.$),e.Y36(C.C),e.Y36(P.y),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-listado-polizas"]],hostBindings:function(t,n){1&t&&e.NdJ("scroll",function(){return n.onWindowScroll()},!1,e.Jf7)},decls:22,vars:4,consts:[[1,"container"],[1,"list"],[3,"placeholder","onDebounce"],[1,"table-container"],[1,"table-data"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[4,"ngIf"],[1,"actions"],[1,"buttons"],[1,"cotizacion",3,"click"],[2,"padding","0px 60px"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["style","margin-right: 2px;",4,"ngIf"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[2,"color","var(--main-color)","cursor","pointer"],[2,"margin-right","2px"],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[2,"width","100%","height","100%","display","flex","align-items","center","justify-content","center","flex-direction","column"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 96 960 960","width","24",2,"fill","var(--main-color)"],["d","M440 776h80V536h-80v240Zm40-320q17 0 28.5-11.5T520 416q0-17-11.5-28.5T480 376q-17 0-28.5 11.5T440 416q0 17 11.5 28.5T480 456Zm0 520q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"P\xf3lizas"),e.qZA(),e._UZ(4,"hr"),e.TgZ(5,"search-box",2),e.NdJ("onDebounce",function(a){return n.filterByPolizaId(a)}),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5),e._UZ(9,"img",6),e.TgZ(10,"span"),e._uU(11,"Espere un momento, cargando la informacion"),e.qZA()(),e.YNc(12,ee,17,2,"ng-container",7),e.YNc(13,te,6,0,"ng-container",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"h2"),e._uU(16,"Acciones"),e.qZA(),e._UZ(17,"hr"),e.TgZ(18,"div",9)(19,"button",10),e.NdJ("click",function(){return n.createPolizas()}),e._uU(20," Emitir poliza "),e.qZA()(),e._UZ(21,"hr"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("placeholder","Buscar por numero de poliza"),e.xp6(3),e.Q6J("@loadingAnimation",n.hasLoaded?"hide":"show"),e.xp6(4),e.Q6J("ngIf",n._filteredListInfo.length>0),e.xp6(1),e.Q6J("ngIf",0===n._filteredListInfo.length))},dependencies:[h.sg,h.O5,m.rH,k.B,Y.s],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;width:100%;top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.list[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;border-radius:2px;box-shadow:0 0 5px #0003}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:70%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid var(--main-color)}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:150px}.cantidad[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:-moz-fit-content;width:fit-content;background-color:var(--body-bg);border:1px solid var(--main-color);padding:2px}.cantidad[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;cursor:pointer}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.btn[_ngcontent-%COMP%]{background-color:var(--main-color);color:var(--text-color);border:none;border-radius:2px;margin:5px;cursor:pointer;font-size:1rem;transition:all .3s ease-in-out;width:-moz-fit-content;width:fit-content;padding:5px 10px;color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}.buttons[_ngcontent-%COMP%]   .cotizacion[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color);height:-moz-fit-content;height:fit-content;min-height:30px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color);padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--main-color);font-weight:700}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.list[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:550px;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;overflow-x:hidden}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:90%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666;height:40px;font-size:medium}.table-container[_ngcontent-%COMP%]{height:400px;overflow-y:hidden}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px}}"],data:{animation:[E.g]}}),i})();var y=c(9315),z=c(9050),ie=c(3519),v=c.n(ie),U=c(1029);function oe(i,r){if(1&i&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("",t.beneficiario.segundo_nombre," ")}}function ae(i,r){if(1&i&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("",t.beneficiario.segundo_apellido," ")}}let re=(()=>{class i{ngOnInit(){this.beneficiario.fecha_nacimiento=this.beneficiario.fecha_nacimiento.split("T")[0]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["beneficiario"]],inputs:{beneficiario:"beneficiario"},decls:64,vars:10,consts:[[1,"container"],[1,"field","row"],[1,"column"],[1,"title"],[1,"description"],[1,"info"],["class","info",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),e._uU(5,"Nombres"),e.qZA()(),e.TgZ(6,"div",4)(7,"span",5),e._uU(8),e.qZA(),e.YNc(9,oe,2,1,"span",6),e.qZA()(),e.TgZ(10,"div",2)(11,"div",3)(12,"span"),e._uU(13,"Apellidos"),e.qZA()(),e.TgZ(14,"div",4)(15,"span",5),e._uU(16),e.qZA(),e.YNc(17,ae,2,1,"span",6),e.qZA()()(),e.TgZ(18,"div",1)(19,"div",2)(20,"div",3)(21,"span"),e._uU(22,"Fecha de nacimiento"),e.qZA()(),e.TgZ(23,"div",4)(24,"span"),e._uU(25),e.qZA()()(),e.TgZ(26,"div",2)(27,"div",3)(28,"span"),e._uU(29,"Nro de pasaporte"),e.qZA()(),e.TgZ(30,"div",4)(31,"span"),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",1)(34,"div",2)(35,"div",3)(36,"span"),e._uU(37,"Nacionalidad"),e.qZA()(),e.TgZ(38,"div",4)(39,"span"),e._uU(40),e.qZA()()(),e.TgZ(41,"div",2)(42,"div",3)(43,"span"),e._uU(44,"Nro de Whatsapp"),e.qZA()(),e.TgZ(45,"div",4)(46,"span"),e._uU(47),e.qZA()()()(),e.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"span"),e._uU(52,"Email"),e.qZA()(),e.TgZ(53,"div",4)(54,"span"),e._uU(55),e.qZA()()()(),e.TgZ(56,"div",1)(57,"div",2)(58,"div",3)(59,"span"),e._uU(60,"Nro Poliza"),e.qZA()(),e.TgZ(61,"div",4)(62,"span"),e._uU(63),e.qZA()()()()()),2&t&&(e.xp6(8),e.hij("",n.beneficiario.primer_nombre," "),e.xp6(1),e.Q6J("ngIf","0"!==n.beneficiario.segundo_nombre),e.xp6(7),e.hij("",n.beneficiario.primer_apellido," "),e.xp6(1),e.Q6J("ngIf","0"!==n.beneficiario.segundo_apellido),e.xp6(8),e.Oqu(n.beneficiario.fecha_nacimiento),e.xp6(7),e.Oqu(n.beneficiario.nro_identificacion),e.xp6(8),e.Oqu(n.beneficiario.origen),e.xp6(7),e.Oqu(n.beneficiario.telefono),e.xp6(8),e.Oqu(n.beneficiario.email),e.xp6(8),e.Oqu(n.beneficiario.poliza_id))},dependencies:[h.O5],styles:[".container[_ngcontent-%COMP%]{width:400px;background-color:var(--body-bg);border:1px solid var(--text-color);display:flex;flex-direction:column;padding:20px}.field[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]{flex-direction:row}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.title[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{color:var(--text-color);display:flex;flex-direction:column;width:100%;padding:5px 2px}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}@media (max-width : 768px){.container[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{flex-direction:column}}"]}),i})();function se(i,r){1&i&&(e.TgZ(0,"span",18),e._uU(1,"Vigente"),e.qZA())}function le(i,r){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Congelada"),e.qZA())}function ce(i,r){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Activa"),e.qZA())}function de(i,r){1&i&&(e.TgZ(0,"span",21),e._uU(1,"Anulada"),e.qZA())}function pe(i,r){1&i&&(e.TgZ(0,"span",21),e._uU(1,"En proceso"),e.qZA())}function ge(i,r){1&i&&e._UZ(0,"beneficiario",22),2&i&&e.Q6J("beneficiario",r.$implicit)}const fe=function(){return["edit"]};function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"a",24),e._uU(2," Editar Poliza "),e.qZA(),e.TgZ(3,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.modifyPoliza(3))}),e._uU(4," Anular Poliza "),e.qZA(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.modifyPoliza(1))}),e._uU(6," Congelar Poliza "),e.qZA()()}2&i&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,fe)))}function he(i,r){1&i&&(e.TgZ(0,"span",26),e._uU(1,"La poliza se encuentra anulada, no permite modificaciones"),e.qZA())}function _e(i,r){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),e._uU(4),e.qZA(),e.YNc(5,se,2,0,"span",5),e.YNc(6,le,2,0,"span",6),e.YNc(7,ce,2,0,"span",7),e.YNc(8,de,2,0,"span",8),e.YNc(9,pe,2,0,"span",8),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"span"),e._uU(15,"Destino"),e.qZA()(),e.TgZ(16,"div",12)(17,"span"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",10)(20,"div",11)(21,"span"),e._uU(22,"Plan"),e.qZA()()(),e.TgZ(23,"div",12)(24,"span"),e._uU(25),e.qZA()(),e.TgZ(26,"div",10)(27,"div",11)(28,"span"),e._uU(29),e.qZA()(),e.TgZ(30,"div",13),e.YNc(31,ge,1,1,"beneficiario",14),e.qZA()()()(),e.TgZ(32,"div",15)(33,"h2"),e._uU(34,"Acciones"),e.qZA(),e._UZ(35,"hr"),e.YNc(36,ue,7,2,"div",16),e.qZA(),e.YNc(37,he,2,0,"ng-template",null,17,e.W1O),e.qZA()),2&i){const t=e.MAs(38),n=e.oxw();e.xp6(4),e.hij("P\xf3liza : ",n.polizaId,""),e.xp6(1),e.Q6J("ngIf",0===n.poliza.status),e.xp6(1),e.Q6J("ngIf",1===n.poliza.status),e.xp6(1),e.Q6J("ngIf",2===n.poliza.status),e.xp6(1),e.Q6J("ngIf",3===n.poliza.status),e.xp6(1),e.Q6J("ngIf",4===n.poliza.status),e.xp6(9),e.Oqu(n.poliza.destino),e.xp6(7),e.Oqu(n.servicio.servicio),e.xp6(4),e.hij("Pasajeros : ",n.beneficiarios.length,""),e.xp6(2),e.Q6J("ngForOf",n.beneficiarios),e.xp6(5),e.Q6J("ngIf",3!==n.poliza.status)("ngIfElse",t)}}function me(i,r){1&i&&e._UZ(0,"loading-div")}let ve=(()=>{class i{constructor(){this.polizaService=(0,e.f3M)(x.I),this.beneficiarioService=(0,e.f3M)(P.y),this.ventaService=(0,e.f3M)(z.v),this.route=(0,e.f3M)(m.gz),this.servicioService=(0,e.f3M)(C.C),this.router=(0,e.f3M)(m.F0),this.polizaId=-1,this.loading=!1,this.openModal=!1,this.poliza=null,this.venta=null,this.servicio=null,this.beneficiarios=[]}ngOnInit(){this.loading=!0,this.route.params.subscribe(t=>{this.polizaId=+t.id,this.polizaService.getPolizasById(this.polizaId).pipe((0,g.w)(n=>(console.log(n),this.poliza=n[0],this.ventaService.getVentasById(this.poliza.venta_id))),(0,g.w)(n=>(this.venta=n[0],this.beneficiarioService.getBeneficiarioById(this.polizaId))),(0,g.w)(n=>(this.beneficiarios=n.map(a=>(a.fecha_nacimiento=a.fecha_nacimiento.split("T")[0],a)),this.servicioService.getServicioById(this.poliza?this.poliza.servicio_id:0))),(0,g.w)(n=>{this.servicio=n[0];const o=[];if(0===this.poliza?.status){const a=new Date(this.poliza.fecha_salida),l=new Date,d=new Date(l);d.setDate(l.getDate()-1),a<d&&o.push(this.polizaService.putPolizas(this.poliza.poliza_id,this.poliza.fecha_salida.split("T")[0],this.poliza.fecha_retorno.split("T")[0],2))}else this.poliza&&o.push(this.polizaService.putPolizas(this.polizaId,this.poliza?.fecha_salida.split("T")[0],this.poliza?.fecha_retorno.split("T")[0],this.poliza?.status));return(0,y.D)(o)})).subscribe({next:n=>{},error:n=>{console.log(n)},complete:()=>{this.loading=!1}})})}modifyPoliza(t){this.poliza&&this.polizaService.putPolizas(this.poliza.poliza_id,this.poliza.fecha_salida.split("T")[0],this.poliza.fecha_retorno.split("T")[0],t).subscribe({next:n=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:n=>{this.showError(n)}})}showSuccessNotification(){v().fire({icon:"success",title:"Modificado correctamente",text:"Modificado correctamente",position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}showError(t){v().fire({position:"top-end",icon:"error",title:"No se pudo realizar",showConfirmButton:!1,timer:1500})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"left"],[1,"title-info"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[1,"info"],[1,"field"],[1,"title"],[1,"description"],[1,"listado-beneficiarios"],[3,"beneficiario",4,"ngFor","ngForOf"],[1,"right"],["class","actions",4,"ngIf","ngIfElse"],["alternateContent",""],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[3,"beneficiario"],[1,"actions"],[1,"edit",3,"routerLink"],[1,"delete",3,"click"],[2,"text-align","center","width","100%","color","red","display","flex","align-items","center","justify-content","center","padding","20px 0px"]],template:function(t,n){1&t&&(e.YNc(0,_e,39,12,"div",0),e.YNc(1,me,1,0,"loading-div",1)),2&t&&(e.Q6J("ngIf",!n.loading&&n.poliza&&n.venta&&n.servicio),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,m.rH,U.k,re],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:20px;position:absolute;width:100%;height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.title-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.title-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;padding:2px 5px}span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green}span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray}span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color)}span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:20px}.field[_ngcontent-%COMP%]{padding:5px 0}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:5px}.listado-beneficiarios[_ngcontent-%COMP%]{padding:20px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);padding:30px}a[_ngcontent-%COMP%]{text-decoration:none}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:10px 5px;margin:10px;font-weight:700}a.edit[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:1px solid var(--main-color)}button.delete[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color)}a.edit[_ngcontent-%COMP%]:hover{background-color:var(--hover-main-color)}button.delete[_ngcontent-%COMP%]:hover{background-color:#dad8e8}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.container[_ngcontent-%COMP%]:nth-child(1){order:2}.container[_ngcontent-%COMP%]:nth-child(2){order:1}}"]}),i})();var Z=c(1467),O=c(5521),I=c(2143);function xe(i,r){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Vigente"),e.qZA())}function Ce(i,r){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Congelada"),e.qZA())}function Pe(i,r){1&i&&(e.TgZ(0,"span",21),e._uU(1,"Activa"),e.qZA())}function Ze(i,r){1&i&&(e.TgZ(0,"span",22),e._uU(1,"Anulada"),e.qZA())}function Me(i,r){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.etiqueta),e.xp6(1),e.hij(" ",t.etiqueta," ")}}function be(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",23)(2,"form",24),e.NdJ("ngSubmit",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.updateCliente(a))}),e.TgZ(3,"div",10)(4,"label"),e._uU(5,"Nombre(s)"),e.qZA(),e._UZ(6,"input",25),e.qZA(),e.TgZ(7,"div",10)(8,"label"),e._uU(9,"Apellido(s)"),e.qZA(),e._UZ(10,"input",26),e.qZA(),e.TgZ(11,"div",10)(12,"label",27),e._uU(13,"Genero"),e.qZA(),e.TgZ(14,"div",28)(15,"select",29)(16,"option",30),e._uU(17,"Masculino"),e.qZA(),e.TgZ(18,"option",31),e._uU(19,"Femenino"),e.qZA()()()(),e.TgZ(20,"div",10)(21,"label"),e._uU(22," Fecha de nacimiento"),e.qZA(),e._UZ(23,"input",32),e.qZA(),e.TgZ(24,"div",10)(25,"label"),e._uU(26,"Dni o paspaporte"),e.qZA(),e._UZ(27,"input",33),e.qZA(),e.TgZ(28,"div",10)(29,"label"),e._uU(30,"Nacionalidad"),e.qZA(),e.TgZ(31,"select",34),e.YNc(32,Me,2,2,"option",35),e.qZA()(),e.TgZ(33,"div",10)(34,"label"),e._uU(35,"Nro Whatsapp"),e.qZA(),e.TgZ(36,"div",36),e._UZ(37,"input",37),e.qZA()(),e.TgZ(38,"div",10)(39,"label"),e._uU(40,"Email"),e.qZA(),e._UZ(41,"input",38),e.qZA(),e._UZ(42,"hr",39),e.TgZ(43,"button",40),e._uU(44," Actualizar Beneficiario "),e.qZA()()(),e.BQk()}if(2&i){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("formGroup",t),e.xp6(30),e.Q6J("ngForOf",n.paises)}}function ze(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.poliza.status=o)}),e.TgZ(2,"option",43),e._uU(3,"Vigente"),e.qZA(),e.TgZ(4,"option",44),e._uU(5,"Congelar"),e.qZA(),e.TgZ(6,"option",45),e._uU(7,"Activa"),e.qZA(),e.TgZ(8,"option",46),e._uU(9,"Anulada"),e.qZA(),e.TgZ(10,"option",47),e._uU(11,"En Proceso"),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.poliza.status)}}function Oe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),e._uU(4),e.qZA(),e.YNc(5,xe,2,0,"span",5),e.YNc(6,Ce,2,0,"span",6),e.YNc(7,Pe,2,0,"span",7),e.YNc(8,Ze,2,0,"span",8),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"span"),e._uU(14,"Destino"),e.qZA()(),e.TgZ(15,"div",12)(16,"span"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",10)(19,"div",11)(20,"span"),e._uU(21,"Plan"),e.qZA()()(),e.TgZ(22,"div",12)(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"div",10)(26,"div",11)(27,"span"),e._uU(28,"Fecha de inicio"),e.qZA()()(),e.TgZ(29,"div",10)(30,"div",11)(31,"span"),e._uU(32,"Fecha de salida"),e.qZA()()(),e.TgZ(33,"div",12)(34,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.fecha_salida=o)}),e.qZA()(),e.TgZ(35,"div",10)(36,"div",11)(37,"span"),e._uU(38,"Fecha de retorno"),e.qZA()()(),e.TgZ(39,"div",12)(40,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.fecha_retorno=o)}),e.qZA()(),e.TgZ(41,"div",10)(42,"div",11)(43,"span"),e._uU(44),e.qZA()(),e.TgZ(45,"div",14),e.YNc(46,be,45,2,"ng-container",15),e.qZA()(),e.TgZ(47,"div",10)(48,"div",11)(49,"span"),e._uU(50," Estado de la poliza"),e.qZA()(),e.YNc(51,ze,12,1,"ng-container",1),e.qZA()()(),e.TgZ(52,"div",16)(53,"h2"),e._uU(54,"Acciones"),e.qZA(),e._UZ(55,"hr"),e.TgZ(56,"div",17)(57,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updatePoliza())}),e._uU(58," Realizar cambios a la poliza "),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij("P\xf3liza : ",t.polizaId,""),e.xp6(1),e.Q6J("ngIf",0===t.poliza.status),e.xp6(1),e.Q6J("ngIf",1===t.poliza.status),e.xp6(1),e.Q6J("ngIf",2===t.poliza.status),e.xp6(1),e.Q6J("ngIf",3===t.poliza.status),e.xp6(9),e.Oqu(t.poliza.destino),e.xp6(7),e.Oqu(t.servicio.servicio),e.xp6(10),e.Q6J("ngModel",t.fecha_salida),e.xp6(6),e.Q6J("ngModel",t.fecha_retorno),e.xp6(4),e.hij("Pasajeros : ",t.beneficiarios.length,""),e.xp6(2),e.Q6J("ngForOf",t.listPolizas),e.xp6(5),e.Q6J("ngIf",t.poliza)}}function Te(i,r){1&i&&e._UZ(0,"loading-div")}let we=(()=>{class i{constructor(){this.polizaService=(0,e.f3M)(x.I),this.beneficiarioService=(0,e.f3M)(P.y),this.ventaService=(0,e.f3M)(z.v),this.route=(0,e.f3M)(m.gz),this.servicioService=(0,e.f3M)(C.C),this.catalogoService=(0,e.f3M)(O.Z),this.router=(0,e.f3M)(m.F0),this.utilService=(0,e.f3M)(I.F),this.polizaId=-1,this.loading=!1,this.openModal=!1,this.countryIso=Z.HT,this.poliza=null,this.venta=null,this.servicio=null,this.beneficiarios=[],this.paises=[],this.fecha_retorno="",this.fecha_salida="",this.listPolizas=[]}ngOnInit(){this.loading=!0,this.catalogoService.getPaises().subscribe(t=>{this.paises=t.filter(n=>1===n.status)}),this.route.params.subscribe(t=>{this.polizaId=+t.id,this.polizaService.getPolizasById(this.polizaId).pipe((0,g.w)(n=>(this.poliza=n[0],this.ventaService.getVentasById(this.poliza.venta_id))),(0,g.w)(n=>(this.venta=n[0],this.beneficiarioService.getBeneficiarioById(this.polizaId))),(0,g.w)(n=>(this.beneficiarios=n,this.listPolizas=this.mapBeneficiariosToForm(this.beneficiarios),this.poliza&&(this.fecha_salida=this.poliza.fecha_salida.split("T")[0],this.fecha_retorno=this.poliza.fecha_retorno.split("T")[0]),this.servicioService.getServicioById(this.poliza?this.poliza.servicio_id:0)))).subscribe({next:n=>{this.loading=!1,this.servicio=n[0]},error:n=>{console.log(n)}})})}mapBeneficiariosToForm(t){const n=[];return t.forEach(o=>{n.push(this.createItemForm(o))}),n}createItemForm(t){const n=t.primer_nombre+" "+("0"===t.segundo_nombre?"":t.segundo_nombre),o=t.primer_apellido+" "+("0"===t.segundo_apellido?"":t.segundo_apellido),a=1===t.sexo?"Masculino":"Femenino";return new s.cw({cliente_id:new s.NI(t.beneficiario_id,s.kI.required),nombres:new s.NI(n,s.kI.required),apellidos:new s.NI(o,s.kI.required),age:new s.NI(t.fecha_nacimiento.split("T")[0],s.kI.required),ci:new s.NI(t.nro_identificacion,s.kI.required),email:new s.NI(t.email,s.kI.required),telf:new s.NI(t.telefono,s.kI.required),origen:new s.NI(t.origen,s.kI.required),gender:new s.NI(a,s.kI.required)})}updateCliente(t){console.log(t),t.valid||console.log("El beneficiario no es valido"),console.log(t);const{cliente_id:n,nombres:o,apellidos:a,age:l,ci:d,email:p,telf:f,origen:u,gender:_}=t.value,M=this.splitFirstWord(o),T=M.firsWord,w=M.resOfWord,b=this.splitFirstWord(a);this.beneficiarioService.updateBeneficiario(n,T,w,b.firsWord,b.resOfWord,d,p,f,u,_,l).subscribe({next:D=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:D=>{this.showError(D)}})}splitFirstWord(t){const n=this.normalizeSpaces(t),o=n.indexOf(" ");return-1===o?{firsWord:t,resOfWord:""}:{firsWord:n.slice(0,o),resOfWord:n.slice(o+1).trimEnd()}}normalizeSpaces(t){return t.split(" ").filter(l=>""!==l).join(" ")}updatePoliza(){this.poliza&&this.venta&&this.polizaService.putPolizas(this.polizaId,this.fecha_salida,this.fecha_retorno,this.poliza.status).pipe((0,g.w)(t=>this.ventaService.updateVenta(this.venta.venta_id,3===this.poliza?.status||4===this.poliza?.status?0:3))).subscribe({next:t=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:t=>{this.showError(t)}})}showSuccessNotification(){v().fire({icon:"success",title:"Modificado correctamente",text:"Modificado correctamente",position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}showError(t){v().fire({position:"top-end",icon:"error",title:"No se pudo realizar",showConfirmButton:!1,timer:1500})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"left"],[1,"title-info"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[1,"info"],[1,"field"],[1,"title"],[1,"description"],["type","date",2,"width","300px","padding","10px",3,"ngModel","ngModelChange"],[1,"listado-beneficiarios"],[4,"ngFor","ngForOf"],[1,"right"],[1,"actions"],[1,"edit",3,"click"],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[1,"card"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Ingrese nombres aqui","formControlName","nombres","name","nombres"],["type","text","placeholder","Ingrese apellidos aqui","formControlName","apellidos","name","apellidos"],["for","nombre"],[1,"select"],["name","gender","id","gender","formControlName","gender","name","gender"],["value","Masculino"],["value","Femenino"],["type","date","placeholder","Fecha de nacimiento","formControlName","age","name","age"],["type","text","placeholder","Inserte su pasaporte aqui","formControlName","ci","name","ci"],["name","nacionalidad","id","nacionalidad","formControlName","origen","name","origen"],[3,"value",4,"ngFor","ngForOf"],[1,"datos-numero",2,"margin","10px 0px"],["type","text","placeholder","Inserte su numero aqui","formControlName","telf","name","telf"],["type","email","placeholder","Inserte su email aqui","formControlName","email","name","email"],[1,"poliza"],[1,"edit"],[3,"value"],[3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"]],template:function(t,n){1&t&&(e.YNc(0,Oe,59,12,"div",0),e.YNc(1,Te,1,0,"loading-div",1)),2&t&&(e.Q6J("ngIf",!n.loading&&n.poliza&&n.venta&&n.servicio),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,s.On,U.k,Z.mh],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:20px;position:absolute;width:100%;height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.title-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.title-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;padding:2px 5px}span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green}span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray}span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color)}span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:20px}.field[_ngcontent-%COMP%]{padding:5px 0;width:100%}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:5px}.listado-beneficiarios[_ngcontent-%COMP%]{padding:20px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);padding:30px}a[_ngcontent-%COMP%]{text-decoration:none}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:10px 5px;margin:10px;font-weight:700}a.edit[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:1px solid var(--main-color)}button.delete[_ngcontent-%COMP%], button.edit[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}a.edit[_ngcontent-%COMP%]:hover{background-color:var(--hover-main-color)}select[_ngcontent-%COMP%]{width:400px;margin:10px 0;padding:10px;font-weight:500}option[_ngcontent-%COMP%]{font-weight:500}button.delete[_ngcontent-%COMP%]:hover{background-color:#dad8e8}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.titular[_ngcontent-%COMP%]{padding-left:10px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card[_ngcontent-%COMP%]{border:1px solid var(--text-color);padding:10px}.datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:0 10px;font-size:12px;margin:0 10px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:5px 10px}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}select[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}}"]}),i})();var S=c(6306),N=c(8504),Ae=c(8105),qe=c(1323),ye=c(856),Ue=c(7405);function Ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li"),e.O4$(),e.TgZ(1,"svg",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.remove(a))}),e._UZ(2,"path",37),e.qZA(),e._uU(3),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.hij(" ",t," ")}}function Se(i,r){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.etiqueta),e.xp6(1),e.hij(" ",t.etiqueta," ")}}function Ne(i,r){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.etiqueta),e.xp6(1),e.hij(" ",t.etiqueta," ")}}function De(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",39)(2,"form",40)(3,"div",41)(4,"label"),e._uU(5,"Nombre(s)"),e.qZA(),e._UZ(6,"input",42),e.qZA(),e.TgZ(7,"div",41)(8,"label"),e._uU(9,"Apellido(s)"),e.qZA(),e._UZ(10,"input",43),e.qZA(),e.TgZ(11,"div",41)(12,"label",44),e._uU(13,"Genero"),e.qZA(),e.TgZ(14,"div",45)(15,"select",46)(16,"option",47),e._uU(17,"Masculino"),e.qZA(),e.TgZ(18,"option",48),e._uU(19,"Femenino"),e.qZA()()()(),e.TgZ(20,"div",41)(21,"label"),e._uU(22," Fecha de nacimiento"),e.qZA(),e._UZ(23,"input",49),e.qZA(),e.TgZ(24,"div",41)(25,"label"),e._uU(26,"Dni o paspaporte"),e.qZA(),e._UZ(27,"input",50),e.qZA(),e.TgZ(28,"div",41)(29,"label"),e._uU(30,"Nacionalidad"),e.qZA(),e.TgZ(31,"select",51),e.YNc(32,Ne,2,2,"option",18),e.qZA()(),e.TgZ(33,"div",41)(34,"label"),e._uU(35,"Nro Whatsapp"),e.qZA(),e.TgZ(36,"div",52)(37,"select",53)(38,"option",54),e._uU(39,"591"),e.qZA(),e.TgZ(40,"option",55),e._uU(41,"999"),e.qZA(),e.TgZ(42,"option",56),e._uU(43,"653"),e.qZA(),e.TgZ(44,"option",57),e._uU(45,"124"),e.qZA()(),e._UZ(46,"input",58),e.qZA()(),e.TgZ(47,"div",41)(48,"label"),e._uU(49,"Email"),e.qZA(),e._UZ(50,"input",59),e.qZA(),e._UZ(51,"hr",29),e.qZA(),e.TgZ(52,"input",60),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit;return e.KtG(l.titular=o)})("change",function(){const a=e.CHM(t).$implicit;return e.KtG(a.titular)}),e.qZA(),e.TgZ(53,"label",61),e._uU(54,"Titular"),e.qZA()(),e.BQk()}if(2&i){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(30),e.Q6J("ngForOf",n.paises),e.xp6(20),e.Q6J("ngModel",t.titular)}}function Je(i,r){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.servicio_id),e.xp6(1),e.Oqu(t.servicio)}}function Fe(i,r){if(1&i&&(e.TgZ(0,"div",41)(1,"span"),e._uU(2,"Total"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.gM2(5,1,t.costo,"USD","$","1.1-2"))}}function Ee(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.AsE("",t.cupon.nombre," - ",e.gM2(2,2,t.montoTotal,"USD","$","1.1-2"),"")}}function Be(i,r){if(1&i&&(e.TgZ(0,"span",41)(1,"span"),e._uU(2,"Descuentos"),e.qZA(),e.YNc(3,Ee,3,7,"span",6),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.listDescuentos)}}function ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"span",63),e._uU(2," La lista de planes disponibles es resultado directo de la informaci\xf3n proveida en el formulario de arriba. Si deceas ver mas planes cambia los datos del formulario y dale click, denuevo, a \u201cGenera planes para polizas\u201d "),e.qZA(),e.TgZ(3,"div",41)(4,"label"),e._uU(5,"Planes"),e.qZA(),e.TgZ(6,"select",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedPlan=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectPlan())}),e.YNc(7,Je,2,2,"option",18),e.qZA()(),e.YNc(8,Fe,6,6,"div",65),e.YNc(9,Be,4,1,"span",65),e.TgZ(10,"div",41)(11,"label"),e._uU(12,"Estado de la poliza"),e.qZA(),e.TgZ(13,"select",66),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.status=o)}),e.TgZ(14,"option",67),e._uU(15,"Pagado"),e.qZA(),e.TgZ(16,"option",68),e._uU(17,"Impaga"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.selectedPlan),e.xp6(1),e.Q6J("ngForOf",t.ListadoServiciosToShow),e.xp6(1),e.Q6J("ngIf",t.costo>-1),e.xp6(1),e.Q6J("ngIf",t.costo>-1),e.xp6(4),e.Q6J("ngModel",t.status)}}const Ye=[{path:"polizas",children:[{path:"generar-polizas",component:(()=>{class i{createItemForm(){return new s.cw({nombres:new s.NI(null,s.kI.required),apellidos:new s.NI(null,s.kI.required),age:new s.NI(null,s.kI.required),ci:new s.NI(null,s.kI.required),email:new s.NI(null,s.kI.required),ext:new s.NI(null,s.kI.required),telf:new s.NI(null,s.kI.required),origen:new s.NI("Bolivia",s.kI.required),gender:new s.NI(null,s.kI.required)})}constructor(t,n,o,a,l,d,p,f,u,_,M,T,w){this.countriesService=t,this.planesServices=n,this.preciosServices=o,this.serviciosService=a,this.utilsService=l,this.cuponesService=d,this.catalogoService=p,this.clientesService=f,this.ventasService=u,this.polizasService=_,this.beneficiariosService=M,this.polizasPlusService=T,this.router=w,this.nextId=0,this.tags=[],this.paises=[],this.inputValue="",this.listadoPlanes=[],this.listadoPrecios=[],this.listadoServicios=[],this.listadoCupones=[],this.ListadoServiciosToShow=null,this.listPolizas=[],this.minDate="",this.inputMinDate="",this.inputMaxDate="",this.selectedPlan=0,this.diffDays=0,this.costo=-1,this.listDescuentos=[],this.status=0,this.minDate=(new Date).toISOString().split("T")[0]}ngOnInit(){this.addItem(),this.countriesService.getPaises().subscribe(t=>{this.paises=t}),this.planesServices.getPlanes().pipe((0,g.w)(t=>(this.listadoPlanes=t,this.preciosServices.getPrecios())),(0,g.w)(t=>(this.listadoPrecios=t,this.serviciosService.getServicios())),(0,g.w)(t=>(this.listadoServicios=t,this.cuponesService.getCupones()))).subscribe(t=>{this.listadoCupones=t.filter(n=>1===n.status),this.listadoCupones=this.utilsService.filterCouponsByDates(this.listadoCupones)})}remove(t){let n=this.tags.indexOf(t);this.tags=[...this.tags.slice(0,n),...this.tags.slice(n+1)]}addTag(t){if("Enter"===t.key){let n=t.target.value.replace(/\s+/g," ");this.insertTag(n),t.target.value=""}}insertTag(t){"pais"!==t&&t.length>1&&!this.tags.includes(t)&&t.split(",").forEach(n=>{this.tags.push(n)})}onSelect(t){const n=t.target;n&&(this.insertTag(n.value),n.value="pais")}addItem(){const t={form:this.createItemForm(),id:this.nextId++,titular:!1};this.listPolizas.push(t),this.ListadoServiciosToShow=null}removeItem(t){this.listPolizas=this.listPolizas.filter(n=>n.id!==t)}generarPlan(){const t=[];this.listPolizas.forEach(o=>{t.push(o.form.value.age)});const n=this.clientesAge(t);this.diffDays=this.getExactDateDifference(this.inputMinDate,this.inputMaxDate),this.ListadoServiciosToShow=this.filterServicesByAge(this.listadoServicios,n),this.ListadoServiciosToShow=this.filterServicesByPrice(this.ListadoServiciosToShow,this.listadoPrecios,this.diffDays)}clientesAge(t){return t.map(o=>this.calculateAgeDifference(o))}calculateAgeDifference(t){const n=new Date,o=new Date(t),l=(n.getTime()-o.getTime())/315576e5;return Math.floor(l)}filterServicesByAge(t,n){return t.filter(a=>{for(const l of n)if(1*a.edad_base<=1*l&&1*a.edad_limite>=1*l)return console.log(a,l),!0;return!1})}filterServicesByPrice(t,n,o){const a=t.map(p=>p.servicio_id);let l=n.filter(p=>a.includes(p.servicio_id));return l=l.filter(p=>1*o>=1*p.limite_inferior&&1*o<=1*p.limite_superior),this.filterServiciosWithoutPrecio(t,l)}getExactDateDifference(t,n){const o=new Date(t),a=new Date(n),l=Math.abs(a.getTime()-o.getTime());return Math.floor(l/864e5)}filterServiciosWithoutPrecio(t,n){return t.filter(o=>n.some(a=>a.servicio_id===o.servicio_id))}onSelectPlan(){this.costo=this.utilsService.obtenerCostoPlan(this.listadoPrecios,this.selectedPlan,this.diffDays);const t=this.listadoCupones.filter(n=>1*n.servicio_id==1*this.selectedPlan);this.listDescuentos=t.map(n=>this.realizarDescuento(this.costo,this.listPolizas.length,n))}mapListDescuentos(t,n){const o=[];if(o.push(t.reduce((a,l)=>a+l.montoTotal,0).toString()),t.length!=n)for(let a=0;a<n-1;a++)o.push("0");return o}mapCantDescuentos(t,n){const o=[];for(let a=0;a<n;a++)o.push("0");return o}realizarDescuento(t,n,o){switch(o.tipo_valor){case 1:return{cupon:o,monto:t*(o.valor/100),montoTotal:t*n*(o.valor/100)};case 2:return{cupon:o,monto:o.valor,montoTotal:o.valor*n};default:return{cupon:o,monto:t*(o.valor/100),montoTotal:o.valor*n}}}generarVenta(){const t=this.listPolizas.filter(n=>1==n.titular);1===t.length?this.listPolizas.every(n=>n.form.valid)?(v().fire({text:"Espere un momento mientras se procesa la informacion",imageUrl:"https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif",showConfirmButton:!1,allowOutsideClick:!1,imageWidth:200,imageHeight:200,imageAlt:"Custom image"}),this.clientesService.getClienteById(t[0].form.value.ci).pipe((0,g.w)(n=>{let o=0;const a=this.listPolizas.length.toString(),l=this.selectedPlan.toString(),d=this.listDescuentos.reduce((f,u)=>f+u.montoTotal,0).toString();if(n.length>0)return o=n[0].cliente_id,this.ventasService.postVenta(o,a,d,"0",0,l,this.inputMinDate,this.inputMaxDate);{console.log(" no se  encontro cliente");const f={apellido:t[0].form.value.apellidos,nombre:t[0].form.value.nombres,nit_ci:t[0].form.value.ci,origen:t[0].form.value.origen,email:t[0].form.value.email,nro_contacto:t[0].form.value.telf};return console.log(f),console.log(t[0]),this.clientesService.postCliente(f).pipe((0,g.w)(u=>(o=u.id,this.ventasService.postVenta(o,a,d,"0",0,l,this.inputMinDate,this.inputMaxDate)))).pipe((0,S.K)(u=>(0,N._)(u)))}}),(0,g.w)(n=>{console.log(n);const o=n.id;return console.log(o,this.selectedPlan,this.tags.join(","),this.inputMinDate,this.inputMaxDate,0),this.polizasService.postPolizas(o,this.selectedPlan,this.tags.join(","),this.inputMinDate,this.inputMaxDate,1)}),(0,g.w)(n=>{const o=[];return this.listPolizas.forEach(a=>{const l=this.splitFirstWord(a.form.value.nombres),d=l.firsWord,p=l.resOfWord,f=this.splitFirstWord(a.form.value.apellidos);o.push(this.beneficiariosService.postBeneficiario(n.id,f.firsWord,f.resOfWord,d,p,a.form.value.ci,a.form.value.age,"Masculino"===a.form.value.gender?"1":"2 ",a.form.value.origen,a.form.value.email.trimEnd(),a.form.value.telf))}),(0,y.D)(o).pipe((0,S.K)(a=>(0,N._)(a)))})).subscribe({next:n=>{v().close(),this.successMessage("Se ha registrado la venta correctamente")},error:n=>{console.log(n),this.showErrorMsg(n)}})):this.showErrorMsg("Revise los datos de cada poliza, el icono marca la poliza con error"):this.showErrorMsg("Se necesita que sea un titular obligatoriamente")}showErrorMsg(t){v().fire({icon:"error",title:"Oops...",text:t})}successMessage(t){v().close(),v().fire({title:"Venta registrada correctamente",icon:"success",text:t,showCancelButton:!0,confirmButtonColor:"#16F80B",cancelButtonColor:"#d33",denyButtonText:"Finalizar",confirmButtonText:"Dirigir a listado"}).then(n=>{n.isConfirmed?this.router.navigateByUrl("/dashboard/polizas-detalles"):n.isDenied&&console.log("Termino")})}splitFirstWord(t){const n=this.normalizeSpaces(t),o=n.indexOf(" ");return-1===o?{firsWord:t,resOfWord:""}:{firsWord:n.slice(0,o),resOfWord:n.slice(o+1).trimEnd()}}normalizeSpaces(t){return t.split(" ").filter(l=>""!==l).join(" ")}showData(t){console.log(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.Z),e.Y36(Ae.k),e.Y36(qe.v),e.Y36(C.C),e.Y36(I.F),e.Y36(ye.p),e.Y36(O.Z),e.Y36(q.Y),e.Y36(z.v),e.Y36(x.I),e.Y36(P.y),e.Y36(Ue.m),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-generar-polizas"]],decls:62,vars:8,consts:[[1,"container"],[1,"process"],[1,"data"],[1,"destinos"],[1,"list-item"],[1,"tagList"],[4,"ngFor","ngForOf"],[1,"options","list"],["xmlns","http://www.w3.org/2000/svg","height","20","viewBox","0 96 960 960","width","20"],["d","M444 816V612H240v-72h204V336h72v204h204v72H516v204h-72Z"],[1,"listado",3,"change"],["value","pais"],["value","America"],["value","Europa"],["value","Asia"],["value","Oceania"],["value","Africa"],["value","Antartida"],[3,"value",4,"ngFor","ngForOf"],[1,"fechas"],[1,"fechas-container"],[1,"fecha"],["for","fecha_salida"],["type","date","name","fecha_salida","id","fecha_salida",3,"min","ngModel","ngModelChange"],["for","fecha_retorno"],["type","date","name","fecha_retorno","id","fecha_retorno",3,"ngModel","ngModelChange"],[1,"pasajeros"],[1,"list-cards"],[1,"add",3,"click"],[1,"poliza"],[1,"space-button"],[1,"generar",3,"click"],["class","listado-plan",4,"ngIf"],[1,"actions"],[1,"buttons"],[1,"emitir","active",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","20","width","20",3,"click"],["d","M6.062 15 5 13.938 8.938 10 5 6.062 6.062 5 10 8.938 13.938 5 15 6.062 11.062 10 15 13.938 13.938 15 10 11.062Z"],[3,"value"],[1,"card"],[3,"formGroup"],[1,"field"],["type","text","placeholder","Ingrese nombres aqui","formControlName","nombres","name","nombres"],["type","text","placeholder","Ingrese apellidos aqui","formControlName","apellidos","name","apellidos"],["for","nombre"],[1,"select"],["name","gender","id","gender","formControlName","gender","name","gender"],["value","Masculino"],["value","Femenino"],["type","date","placeholder","Fecha de nacimiento","formControlName","age","name","age"],["type","text","placeholder","Inserte su pasaporte aqui","formControlName","ci","name","ci"],["name","nacionalidad","id","nacionalidad","formControlName","origen","name","origen"],[1,"datos-numero"],["name","initial","formControlName","ext","name","ext"],["value","591"],["value","999"],["value","653"],["value","124"],["type","text","placeholder","Inserte su numero aqui","formControlName","telf","name","telf"],["type","email","placeholder","Inserte su email aqui","formControlName","email","name","email"],["type","checkbox",3,"ngModel","ngModelChange","change"],["for","titular",1,"titular"],[1,"listado-plan"],[1,"alert"],[1,"planes",3,"ngModel","ngModelChange","change"],["class","field",4,"ngIf"],[3,"ngModel","ngModelChange"],["value","1"],["value","2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),e._uU(5,"Paises incluidos (destinos)"),e.qZA(),e.TgZ(6,"div",4)(7,"ul",5),e.YNc(8,Ie,4,1,"li",6),e.qZA(),e.TgZ(9,"div",7),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e.kcU(),e.TgZ(12,"select",10),e.NdJ("change",function(a){return n.onSelect(a)}),e.TgZ(13,"option",11),e._uU(14,"Agregar"),e.qZA(),e.TgZ(15,"option",12),e._uU(16,"America"),e.qZA(),e.TgZ(17,"option",13),e._uU(18,"Europa"),e.qZA(),e.TgZ(19,"option",14),e._uU(20,"Asia"),e.qZA(),e.TgZ(21,"option",15),e._uU(22,"Oceania"),e.qZA(),e.TgZ(23,"option",16),e._uU(24,"Africa"),e.qZA(),e.TgZ(25,"option",17),e._uU(26,"Antartida"),e.qZA(),e.YNc(27,Se,2,2,"option",18),e.qZA()()()(),e.TgZ(28,"div",19)(29,"span"),e._uU(30,"Fechas"),e.qZA(),e.TgZ(31,"div",20)(32,"div",21)(33,"label",22),e._uU(34,"Fecha de Salida"),e.qZA(),e.TgZ(35,"input",23),e.NdJ("ngModelChange",function(a){return n.inputMinDate=a}),e.qZA()(),e.TgZ(36,"div",21)(37,"label",24),e._uU(38,"Fecha de Retorno"),e.qZA(),e.TgZ(39,"input",25),e.NdJ("ngModelChange",function(a){return n.inputMaxDate=a}),e.qZA()()()(),e.TgZ(40,"div",26)(41,"span"),e._uU(42),e.qZA(),e.TgZ(43,"div",27),e.YNc(44,De,55,3,"ng-container",6),e.qZA(),e.TgZ(45,"button",28),e.NdJ("click",function(){return n.addItem()}),e.O4$(),e.TgZ(46,"svg",8),e._UZ(47,"path",9),e.qZA(),e._uU(48," Agregar pasajero(a) "),e.qZA()(),e.kcU(),e._UZ(49,"hr",29),e.TgZ(50,"div",30)(51,"button",31),e.NdJ("click",function(){return n.generarPlan()}),e._uU(52," Generar planes para polizas "),e.qZA()(),e.YNc(53,ke,18,5,"div",32),e.qZA()(),e.TgZ(54,"div",33)(55,"h2"),e._uU(56,"Acciones"),e.qZA(),e._UZ(57,"hr"),e.TgZ(58,"div",34)(59,"button",35),e.NdJ("click",function(){return n.generarVenta()}),e._uU(60," Emitir Poliza "),e.qZA()(),e._UZ(61,"hr"),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("ngForOf",n.tags),e.xp6(19),e.Q6J("ngForOf",n.paises),e.xp6(8),e.Q6J("min",n.minDate)("ngModel",n.inputMinDate),e.xp6(4),e.Q6J("ngModel",n.inputMaxDate),e.xp6(3),e.hij("Pasajeros (",n.listPolizas.length,")"),e.xp6(2),e.Q6J("ngForOf",n.listPolizas),e.xp6(9),e.Q6J("ngIf",n.ListadoServiciosToShow))},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.On,Z.mh,h.H9],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;position:absolute;width:100%;min-height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.process[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;min-height:750px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);border-radius:2px;box-shadow:0 0 5px #0003}hr[_ngcontent-%COMP%]{border:1px solid coral}span[_ngcontent-%COMP%]{color:#000}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button.cancelar[_ngcontent-%COMP%]:hover, .buttons[_ngcontent-%COMP%]   button.emitir.active[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .cancelar[_ngcontent-%COMP%]{background-color:var(--body-bg);color:var(--main-color);border:1px solid var(--main-color)}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:#e6dfdf;color:var(--text-color);height:-moz-fit-content;height:fit-content;min-height:30px;cursor:not-allowed}.buttons[_ngcontent-%COMP%]   .emitir.active[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;justify-content:center}.fechas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;margin:10px}.fecha[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px;height:-moz-fit-content;height:fit-content;padding:0 20px}.card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin:10px}.card[_ngcontent-%COMP%]{box-shadow:0 0 5px #0003;padding:10px;width:60%}.card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:90%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:67%;margin-left:10px}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%}hr.poliza[_ngcontent-%COMP%]{border:1px solid #E4E6EA;margin:10px}.pasajeros[_ngcontent-%COMP%]{margin:10px}.list-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:flex-start;gap:10px;margin:10px}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%;height:30px;border-radius:2px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.titular[_ngcontent-%COMP%]{padding-left:10px}button.add[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background:none;color:var(--main-color);fill:var(--main-color);border:none;cursor:pointer}.space-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:-moz-fit-content;height:fit-content}button.generar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out;background-color:var(--main-color);color:#fff}.list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:2px;align-items:flex-start;margin-bottom:10px}.tagList[_ngcontent-%COMP%]{border:none}.tagList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:var(--main-color)}.tagList[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:7px;border-radius:5px}.tagList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--main-color);margin:1px 3px;list-style:none;border-radius:5px;background-color:var(--body-bg);padding:2px 3px 5px 10px;border:1px solid var(--main-color);display:flex;align-items:center}.tagList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;fill:var(--main-color);margin-right:8px;font-size:12px;cursor:pointer;border-radius:50%;justify-content:center}.tagList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:5px;border:none;outline:none;font-size:16px;background-color:var(--body-bg)}.options[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.options[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;justify-content:center;background:var(--main-color);color:#fff;width:100%;border:none;height:-moz-fit-content;height:fit-content}.options[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;width:100%;color:var(--text-color)}.list[_ngcontent-%COMP%]{padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;height:-moz-fit-content;height:fit-content;background:var(--main-color);border-radius:10px}.listado-plan[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-size:12px;padding:5px 2px}.alert[_ngcontent-%COMP%]{width:100%;display:flex;padding:10px;margin:10px;background-color:#ccf4f9;border:1px solid var(--main-color);color:var(--main-color)}.listado-plan[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.listado-plan[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{padding:10px 20px;width:100%;display:flex;flex-direction:column}.listado-plan[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;padding:10px 0}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.process[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}.actions[_ngcontent-%COMP%]{min-height:100%;height:100%;margin-bottom:40px}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}}"]}),i})()},{path:"listado-polizas",component:ne},{path:":id",component:ve},{path:":id/edit",component:we}]}];let Le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(Ye),m.Bz]}),i})();var Qe=c(1837);let je=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,J.K,s.UX,s.u5,F.D,Le,Qe.m,Z.J7]}),i})()}}]);