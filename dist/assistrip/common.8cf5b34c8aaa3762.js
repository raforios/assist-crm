"use strict";(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[592],{4638:(y,f,a)=>{a.r(f),a.d(f,{SiniestrosModule:()=>C});var l=a(6814),h=a(228),c=a(9160),d=a(2001),p=a(4769);let i=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275cmp=p.Xpm({type:u,selectors:[["ng-component"]],decls:2,vars:0,template:function(m,M){1&m&&(p.TgZ(0,"p"),p._uU(1,"siniestro-edit works!"),p.qZA())}}),u})();var n=a(5220);const e=[{path:"siniestro",component:c.o,children:[{path:"listado-siniestros",component:n.Y},{path:":id",component:d.$},{path:":id/edit",component:i}]}];let o=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({imports:[h.Bz.forChild(e),h.Bz]}),u})();var t=a(2121),s=a(1467),r=a(6223),v=a(1837);let C=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({imports:[l.ez,o,h.Bz,t.D,r.UX,r.u5,v.m,r.UX,r.u5,s.J7]}),u})()},7093:(y,f,a)=>{a.d(f,{gY:()=>l,nf:()=>d});const l=(n,e,o,t)=>{let s=JSON.parse(t);const r=o?h(s,e,n):c(s,e,n);return JSON.stringify(r)},h=(n,e,o)=>{const t=n,s=t.permissions.find(r=>r.area===e);return s?s.area_permissions.find(v=>v===o)||(s.area_permissions=[...s.area_permissions,o]):t.permissions.push({area:e,area_permissions:[o]}),t},c=(n,e,o)=>{const t=n,s=t.permissions.find(r=>r.area===e);return s&&(s.area_permissions=s.area_permissions.filter(r=>r!=o),t.permissions=t.permissions.filter(r=>r.area_permissions.length>0)),t},d=(n,e)=>{const o=e.rol_id.split(",").map(s=>+s),t=n.filter(s=>o.includes(s.rol_id));return p(t)},p=n=>{let e=[];return n.forEach(o=>{const t=JSON.parse(o.rol_structure);e=[...e,...t.permissions]}),i(e)},i=n=>n.reduce((e,o)=>(e.some(s=>s.area===o.area)||e.push(o),e),[])},1175:(y,f,a)=>{a.d(f,{R:()=>i});var l=a(6825);const h=(0,l.X$)("fadeInOut",[(0,l.SB)("void",(0,l.oB)({opacity:0})),(0,l.eR)(":enter, :leave",[(0,l.jt)("1s",(0,l.oB)({opacity:1}))])]);var c=a(4769),d=a(6814);function p(n,e){if(1&n&&(c.O4$(),c.kcU(),c.TgZ(0,"div",4)(1,"span"),c._uU(2),c.qZA()()),2&n){const o=c.oxw();c.xp6(2),c.Oqu(o.message)}}let i=(()=>{class n{constructor(){this.message="",this.duration=0,this.show=!1}showPopup(){this.show=!0,setTimeout(()=>{this.hidePopup()},this.duration)}hidePopup(){this.show=!1}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-popup"]],inputs:{message:"message",duration:"duration"},decls:5,vars:3,consts:[[1,"hover-container",3,"mouseenter","click","mouseleave"],["xmlns","http://www.w3.org/2000/svg","height","40","viewBox","0 96 960 960","width","40"],["d","M482 811.333q17.667 0 29.833-12.166Q524 787 524 769.333q0-17.666-12.167-29.833-12.166-12.166-29.833-12.166-17.666 0-29.833 12.166Q440 751.667 440 769.333q0 17.667 12.167 29.834 12.167 12.166 29.833 12.166Zm-35.333-148.666h64q0-28.334 6.833-49 6.833-20.667 41.166-50.334 29.334-26 43.001-50.5 13.666-24.5 13.666-55.5 0-53.999-36.666-85.333-36.667-31.333-93.334-31.333-51.666 0-88.5 26.333Q360 393.333 344 436l57.333 22q9-24.667 29.5-42t52.5-17.333q33.334 0 52.667 18.166 19.334 18.167 19.334 44.5 0 21.334-12.667 40.167-12.667 18.833-35.334 37.834-34.666 30.333-47.666 53.999-13 23.667-13 69.334ZM480 976q-82.333 0-155.333-31.5t-127.334-85.833Q143 804.333 111.5 731.333T80 576q0-83 31.5-156t85.833-127q54.334-54 127.334-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 82.333-31.5 155.333T763 858.667Q709 913 636 944.5T480 976Z"],["class","hover-content",4,"ngIf"],[1,"hover-content"]],template:function(o,t){1&o&&(c.TgZ(0,"div",0),c.NdJ("mouseenter",function(){return t.showPopup()})("click",function(){return t.showPopup()})("mouseleave",function(){return t.hidePopup()}),c.TgZ(1,"button"),c.O4$(),c.TgZ(2,"svg",1),c._UZ(3,"path",2),c.qZA()(),c.YNc(4,p,3,1,"div",3),c.qZA()),2&o&&(c.xp6(1),c.ekj("show",t.show),c.xp6(3),c.Q6J("ngIf",t.show))},dependencies:[d.O5],styles:['.hover-container[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:3}button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;fill:var(--main-color);transition:all .3s ease-in-out}button.show[_ngcontent-%COMP%]{scale:1.1;rotate:10deg}.hover-content[_ngcontent-%COMP%]{position:absolute;width:200px;top:-100%;left:50%;transform:translate(-50%);background-color:#fff;padding:10px;border:1px solid #ccc;visibility:hidden;opacity:0;transition:visibility 0s linear 2s,opacity .2s;z-index:4;border-radius:10px}.hover-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-align:center;display:flex;align-items:center;justify-content:center}.hover-content[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#ccc transparent transparent transparent}.hover-container[_ngcontent-%COMP%]:hover   .hover-content[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:-140%}'],data:{animation:[h]}}),n})()},3333:(y,f,a)=>{a.d(f,{B:()=>n});var l=a(4769),h=a(8645),c=a(6321),d=a(9360),p=a(8251);let n=(()=>{class e{constructor(){this.debouncer=new h.x,this.placeholder="",this.onValue=new l.vpe,this.onDebounce=new l.vpe}ngOnInit(){this.debouncer.pipe(function i(e,o=c.z){return(0,d.e)((t,s)=>{let r=null,v=null,C=null;const u=()=>{if(r){r.unsubscribe(),r=null;const m=v;v=null,s.next(m)}};function g(){const m=C+e,M=o.now();if(M<m)return r=this.schedule(void 0,m-M),void s.add(r);u()}t.subscribe((0,p.x)(s,m=>{v=m,C=o.now(),r||(r=o.schedule(g,e),s.add(r))},()=>{u(),s.complete()},void 0,()=>{v=r=null}))})}(300)).subscribe(t=>{this.onDebounce.emit(t)})}emitValue(t){this.onValue.emit(t)}onKeyPress(t){this.debouncer.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["search-box"]],inputs:{placeholder:"placeholder"},outputs:{onValue:"onValue",onDebounce:"onDebounce"},decls:2,vars:1,consts:[["type","text",3,"placeholder","keyup"],["txtInput",""]],template:function(t,s){if(1&t){const r=l.EpF();l.TgZ(0,"input",0,1),l.NdJ("keyup",function(){l.CHM(r);const C=l.MAs(1);return l.KtG(s.onKeyPress(C.value))}),l.qZA()}2&t&&l.Q6J("placeholder",s.placeholder)},styles:["input[_ngcontent-%COMP%]{margin:10px;width:90%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666;height:40px;font-size:medium}"]}),e})()},5080:(y,f,a)=>{a.d(f,{x:()=>n});var l=a(9862),h=a(7398),c=a(6306),d=a(8504),p=a(553),i=a(4769);let n=(()=>{class e{constructor(t){this.http=t,this.apiUrl=p.N.apiUrl+"/reembolsos"}getReembolsos(){return this.http.get(this.apiUrl)}getReembolsosById(t){let s=new l.LE;return s=s.append("id",t),this.http.get(this.apiUrl,{params:s}).pipe((0,h.U)(r=>{if(r.length>0)return r;throw new Error("No se encontro el reembolso")}),(0,c.K)(r=>(0,d._)(()=>r.error.message)))}postReembolso(t,s,r,v,C,u,g,m,M,P,T,O){return this.http.post(this.apiUrl,{siniestro_id:t,cliente:s,nombre_propietario_cuenta:r,nro_identificacion:v,nro_cuenta:C,codigo_swift:u,banco:g,pais:m,ciudad:M,fecha_emision:P,status:T,monto:O}).pipe((0,c.K)(b=>{throw new Error(b)}))}updateReembolsos(t,s){return this.http.put(`${this.apiUrl}?id=${t}`,s)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(l.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2143:(y,f,a)=>{a.d(f,{F:()=>c});var l=a(6223),h=a(4769);let c=(()=>{class d{constructor(){}DivideByAge(i){const n=[],e=[];let o=0;return i.forEach(t=>{1*t.age<75?n.push(t):e.push(t)}),n.length>0&&o++,e.length>0&&o++,{cotizacionesMenores:n,cotizacionesMayores:e,minPlanes:o}}compararFechas(i,n){const e=new Date(i),o=new Date(n),t=Math.abs(o.getTime()-e.getTime()),s=Math.floor(t/864e5);return isNaN(s)?-1:s+1}haveRequirements(i,n){if(!i.disponibilidad)return!1;const e=i.disponibilidad.split(",");return n.every(o=>e.includes(o))}haveRange(i,n,e){const o=n;return e.filter(s=>!(!this.betweenTheRange(s.limite_inferior,s.limite_superior,o)||1*s.servicio_id!=1*i.servicio_id)).length>0}createItemForm(){return new l.cw({age:new l.NI(null,[l.kI.required,l.kI.pattern("^[0-9]*$")])})}betweenTheRange(i,n,e){return 1*e>=1*i&&1*e<=1*n}getDate(i){const n=new Date(i);return`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`}getDateDto(i){const e=this.getDate(i).split("/"),o=Number(e[0]),t=Number(e[1])-1,s=Number(e[2]);return new Date(o,t,s)}obtenerCostoPlan(i,n,e){const o=i.find(t=>!(+t.servicio_id!=+n||!this.betweenTheRange(t.limite_inferior,t.limite_superior,e)));return o?this.realizarCalculo(o,e):-1}realizarCalculo(i,n){let e=0;return 1*i.tipo_ecuacion==1&&(e=1*this.ecuacionCurva(i,n)*n*1),1*i.tipo_ecuacion==2&&(e=1*this.ecuacionRecta(i,n)*n*1),e}ecuacionCurva(i,n){return 1*Math.pow(n,i.intercepto)*i.pendiente*1}ecuacionRecta(i,n){return i.pendiente*n*1+1*i.intercepto}mapListBeneficio(i,n){const e=[];return n.forEach(o=>{const t=i.filter(r=>r.tipo_beneficio===o.valor);e.push({tipo_beneficio:o,beneficios:t,isSubDropdownOpen:!1})}),e}mapListBeneficioCat(i,n){const e=[];return n.forEach(o=>{const t=i.filter(r=>r.tipo_beneficio===o.valor);e.push({tipo_beneficio:o,beneficios:t,subDropdownOpen:!1})}),e}filterCouponsByDates(i){return i.filter(n=>{const e=new Date,t=(new Date(n.fecha_desde),new Date(n.fecha_hasta));return e>=e&&e<t})}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275prov=h.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);