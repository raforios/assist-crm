"use strict";(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[710],{1710:(Ht,A,c)=>{c.r(A),c.d(A,{PolizasModule:()=>jt});var h=c(6814),J=c(801),s=c(6223),F=c(2121),m=c(5519),g=c(4664),E=c(8446),t=c(8926),x=c(8735),q=c(6757),B=c(510),C=c(7417),P=c(9286),k=c(6310),Y=c(8898);function L(i,r){if(1&i&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"zeroFilter"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.beneficiario.primer_nombre))}}function Q(i,r){if(1&i&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"zeroFilter"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.beneficiario.segundo_nombre))}}function j(i,r){if(1&i&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"zeroFilter"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.beneficiario.primer_apellido))}}function G(i,r){if(1&i&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"zeroFilter"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.beneficiario.segundo_apellido))}}function W(i,r){1&i&&(t.TgZ(0,"span",21),t._uU(1,"Vigente"),t.qZA())}function H(i,r){1&i&&(t.TgZ(0,"span",22),t._uU(1,"Congelada"),t.qZA())}function $(i,r){1&i&&(t.TgZ(0,"span",23),t._uU(1,"Activa"),t.qZA())}function V(i,r){1&i&&(t.TgZ(0,"span",24),t._uU(1,"Anulada"),t.qZA())}function K(i,r){1&i&&(t.TgZ(0,"span",24),t._uU(1,"En Proceso"),t.qZA())}const R=function(i){return["../../polizas",i]};function X(i,r){if(1&i&&(t.TgZ(0,"tr",13)(1,"td"),t.YNc(2,L,3,3,"span",14),t.YNc(3,Q,3,3,"span",14),t.YNc(4,j,3,3,"span",14),t.YNc(5,G,3,3,"span",14),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t.YNc(13,W,2,0,"span",15),t.YNc(14,H,2,0,"span",16),t.YNc(15,$,2,0,"span",17),t.YNc(16,V,2,0,"span",18),t.YNc(17,K,2,0,"span",18),t.qZA(),t.TgZ(18,"td",19)(19,"a"),t._uU(20,"Editar"),t.qZA()()()),2&i){const e=r.$implicit;t.Q6J("routerLink",t.VKq(13,R,e.beneficiario.poliza_id)),t.xp6(2),t.Q6J("ngIf",e.beneficiario.primer_nombre),t.xp6(1),t.Q6J("ngIf",e.beneficiario.segundo_nombre),t.xp6(1),t.Q6J("ngIf",e.beneficiario.primer_apellido),t.xp6(1),t.Q6J("ngIf",e.beneficiario.segundo_apellido),t.xp6(2),t.hij("",e.polizaBeneficiario.destino," "),t.xp6(2),t.hij("",e.siniestrosBeneficiario.length," "),t.xp6(2),t.Oqu(e.servicioBeneficiario.servicio),t.xp6(2),t.Q6J("ngIf",0===e.polizaBeneficiario.status),t.xp6(1),t.Q6J("ngIf",1===e.polizaBeneficiario.status),t.xp6(1),t.Q6J("ngIf",2===e.polizaBeneficiario.status),t.xp6(1),t.Q6J("ngIf",3===e.polizaBeneficiario.status),t.xp6(1),t.Q6J("ngIf",4===e.polizaBeneficiario.status)}}function tt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"table")(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Cliente(a) Nro Poliza"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Destinos"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Siniestros"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Planes incluidos"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Estado"),t.qZA(),t._UZ(14,"th",11),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,X,21,15,"tr",12),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("@loadingAnimation",e.hasLoaded?"show":"hide"),t.xp6(15),t.Q6J("ngForOf",e._filteredListInfo)}}function et(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",25),t.O4$(),t.TgZ(2,"svg",26),t._UZ(3,"path",27),t.qZA(),t.kcU(),t.TgZ(4,"span"),t._uU(5,"No se encontro ninguna poliza"),t.qZA()(),t.BQk())}let nt=(()=>{class i{showDetails(){this.showComponent=!this.showComponent}constructor(e,n,o,a,l,d,p){this.elRef=e,this.polizaServices=n,this.clienteServices=o,this.siniestroService=a,this.serviciosServices=l,this.beneficiarioService=d,this.router=p,this.listado_Polizas=[],this.listado_clientes=[],this.listado_Siniestros=[],this.listado_beneficiarios=[],this.listado_servicios=[],this.listInfo=[],this._filteredListInfo=[],this.filterText="",this.showComponent=!1,this.hasLoaded=!0}ngOnInit(){this.hasLoaded=!1,this.polizaServices.getPolizas().pipe((0,g.w)(e=>(this.listado_Polizas=e,this.beneficiarioService.getBeneficiario())),(0,g.w)(e=>(this.listado_beneficiarios=e,this.siniestroService.getSiniestros())),(0,g.w)(e=>(this.listado_Siniestros=e,this.serviciosServices.getServicios()))).subscribe(e=>{this.listado_servicios=e,this.listado_Polizas=this.listado_Polizas.map(o=>{if(0===o.status){const a=new Date(o.fecha_salida),l=new Date,d=new Date(l);return d.setDate(l.getDate()-1),a<d&&(o.status=2),o}return o}),this.listInfo=this.mapData(this.listado_Polizas,this.listado_beneficiarios,this.listado_Siniestros,this.listado_servicios),this._filteredListInfo=this.listInfo,this.hasLoaded=!0})}onWindowScroll(){const e=this.elRef.nativeElement.querySelector(".table-container"),n=e.querySelector("thead"),o=e.querySelectorAll("tbody tr"),a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),d=o[o.length-1].getBoundingClientRect();if(a.top+l.height>window.innerHeight||a.bottom-d.height<0)n.style.visibility="hidden";else{n.style.visibility="visible";for(let p=0;p<o.length;p++)o[p].style.visibility="visible"}}get filterPolizas(){return this._filteredListInfo}set FilterText(e){this.filterText=e}createPolizas(){this.router.navigate(["../dashboard/polizas/generar-polizas"])}mapData(e,n,o,a){n.forEach(d=>{e.find(u=>u.poliza_id===d.poliza_id)});const l=n.map(d=>{const p=o.filter(_=>_.beneficiario_id===d.beneficiario_id),u=e.find(_=>_.poliza_id===d.poliza_id),f=a.find(_=>_.servicio_id===u?.servicio_id);return{beneficiario:d,siniestrosBeneficiario:p,polizaBeneficiario:u,servicioBeneficiario:f}});return console.log(l),l}filterByPolizaId(e){this._filteredListInfo=this.listInfo.filter(n=>n.polizaBeneficiario.poliza_id.toString().includes(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(x.I),t.Y36(q.Y),t.Y36(B.$),t.Y36(C.C),t.Y36(P.y),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-listado-polizas"]],hostBindings:function(e,n){1&e&&t.NdJ("scroll",function(){return n.onWindowScroll()},!1,t.Jf7)},decls:22,vars:4,consts:[[1,"container"],[1,"list"],[3,"placeholder","onDebounce"],[1,"table-container"],[1,"table-data"],[1,"loading"],["src","assets/svg/loading.svg","alt",""],[4,"ngIf"],[1,"actions"],[1,"buttons"],[1,"cotizacion",3,"click"],[2,"padding","0px 60px"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["style","margin-right: 2px;",4,"ngIf"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[2,"color","var(--main-color)","cursor","pointer"],[2,"margin-right","2px"],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[2,"width","100%","height","100%","display","flex","align-items","center","justify-content","center","flex-direction","column"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 96 960 960","width","24",2,"fill","var(--main-color)"],["d","M440 776h80V536h-80v240Zm40-320q17 0 28.5-11.5T520 416q0-17-11.5-28.5T480 376q-17 0-28.5 11.5T440 416q0 17 11.5 28.5T480 456Zm0 520q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"P\xf3lizas"),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"search-box",2),t.NdJ("onDebounce",function(a){return n.filterByPolizaId(a)}),t.qZA(),t.TgZ(6,"div",3)(7,"div",4)(8,"div",5),t._UZ(9,"img",6),t.TgZ(10,"span"),t._uU(11,"Espere un momento, cargando la informacion"),t.qZA()(),t.YNc(12,tt,17,2,"ng-container",7),t.YNc(13,et,6,0,"ng-container",7),t.qZA()()(),t.TgZ(14,"div",8)(15,"h2"),t._uU(16,"Acciones"),t.qZA(),t._UZ(17,"hr"),t.TgZ(18,"div",9)(19,"button",10),t.NdJ("click",function(){return n.createPolizas()}),t._uU(20," Emitir poliza "),t.qZA()(),t._UZ(21,"hr"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("placeholder","Buscar por numero de poliza"),t.xp6(3),t.Q6J("@loadingAnimation",n.hasLoaded?"hide":"show"),t.xp6(4),t.Q6J("ngIf",n._filteredListInfo.length>0),t.xp6(1),t.Q6J("ngIf",0===n._filteredListInfo.length))},dependencies:[h.sg,h.O5,m.rH,k.B,Y.s],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;width:100%;top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.list[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;border-radius:2px;box-shadow:0 0 5px #0003}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:70%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid var(--main-color)}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:150px}.cantidad[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:-moz-fit-content;width:fit-content;background-color:var(--body-bg);border:1px solid var(--main-color);padding:2px}.cantidad[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;cursor:pointer}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.btn[_ngcontent-%COMP%]{background-color:var(--main-color);color:var(--text-color);border:none;border-radius:2px;margin:5px;cursor:pointer;font-size:1rem;transition:all .3s ease-in-out;width:-moz-fit-content;width:fit-content;padding:5px 10px;color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}.buttons[_ngcontent-%COMP%]   .cotizacion[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color);height:-moz-fit-content;height:fit-content;min-height:30px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color);padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--main-color);font-weight:700}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.list[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:550px;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;overflow-x:hidden}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px;width:90%;padding:5px;border:1px solid #ccc;border-radius:5px;color:#666;height:40px;font-size:medium}.table-container[_ngcontent-%COMP%]{height:400px;overflow-y:hidden}.actions[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-bottom:30px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.table-data[_ngcontent-%COMP%]{width:100%;height:460px;overflow:auto;border-radius:2px}}"],data:{animation:[E.g]}}),i})();var y=c(9315),z=c(9050),it=c(3519),v=c.n(it),U=c(1029);function ot(i,r){if(1&i&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_nombre," ")}}function at(i,r){if(1&i&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_apellido," ")}}let rt=(()=>{class i{ngOnInit(){this.beneficiario.fecha_nacimiento=this.beneficiario.fecha_nacimiento.split("T")[0]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["beneficiario"]],inputs:{beneficiario:"beneficiario"},decls:64,vars:10,consts:[[1,"container"],[1,"field","row"],[1,"column"],[1,"title"],[1,"description"],[1,"info"],["class","info",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),t._uU(5,"Nombres"),t.qZA()(),t.TgZ(6,"div",4)(7,"span",5),t._uU(8),t.qZA(),t.YNc(9,ot,2,1,"span",6),t.qZA()(),t.TgZ(10,"div",2)(11,"div",3)(12,"span"),t._uU(13,"Apellidos"),t.qZA()(),t.TgZ(14,"div",4)(15,"span",5),t._uU(16),t.qZA(),t.YNc(17,at,2,1,"span",6),t.qZA()()(),t.TgZ(18,"div",1)(19,"div",2)(20,"div",3)(21,"span"),t._uU(22,"Fecha de nacimiento"),t.qZA()(),t.TgZ(23,"div",4)(24,"span"),t._uU(25),t.qZA()()(),t.TgZ(26,"div",2)(27,"div",3)(28,"span"),t._uU(29,"Nro de pasaporte"),t.qZA()(),t.TgZ(30,"div",4)(31,"span"),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",1)(34,"div",2)(35,"div",3)(36,"span"),t._uU(37,"Nacionalidad"),t.qZA()(),t.TgZ(38,"div",4)(39,"span"),t._uU(40),t.qZA()()(),t.TgZ(41,"div",2)(42,"div",3)(43,"span"),t._uU(44,"Nro de Whatsapp"),t.qZA()(),t.TgZ(45,"div",4)(46,"span"),t._uU(47),t.qZA()()()(),t.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"span"),t._uU(52,"Email"),t.qZA()(),t.TgZ(53,"div",4)(54,"span"),t._uU(55),t.qZA()()()(),t.TgZ(56,"div",1)(57,"div",2)(58,"div",3)(59,"span"),t._uU(60,"Nro Poliza"),t.qZA()(),t.TgZ(61,"div",4)(62,"span"),t._uU(63),t.qZA()()()()()),2&e&&(t.xp6(8),t.hij("",n.beneficiario.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==n.beneficiario.segundo_nombre),t.xp6(7),t.hij("",n.beneficiario.primer_apellido," "),t.xp6(1),t.Q6J("ngIf","0"!==n.beneficiario.segundo_apellido),t.xp6(8),t.Oqu(n.beneficiario.fecha_nacimiento),t.xp6(7),t.Oqu(n.beneficiario.nro_identificacion),t.xp6(8),t.Oqu(n.beneficiario.origen),t.xp6(7),t.Oqu(n.beneficiario.telefono),t.xp6(8),t.Oqu(n.beneficiario.email),t.xp6(8),t.Oqu(n.beneficiario.poliza_id))},dependencies:[h.O5],styles:[".container[_ngcontent-%COMP%]{width:400px;background-color:var(--body-bg);border:1px solid var(--text-color);display:flex;flex-direction:column;padding:20px}.field[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]{flex-direction:row}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.title[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{color:var(--text-color);display:flex;flex-direction:column;width:100%;padding:5px 2px}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}@media (max-width : 768px){.container[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{flex-direction:column}}"]}),i})();function st(i,r){1&i&&(t.TgZ(0,"span",18),t._uU(1,"Vigente"),t.qZA())}function lt(i,r){1&i&&(t.TgZ(0,"span",19),t._uU(1,"Congelada"),t.qZA())}function ct(i,r){1&i&&(t.TgZ(0,"span",20),t._uU(1,"Activa"),t.qZA())}function dt(i,r){1&i&&(t.TgZ(0,"span",21),t._uU(1,"Anulada"),t.qZA())}function pt(i,r){1&i&&(t.TgZ(0,"span",21),t._uU(1,"En proceso"),t.qZA())}function gt(i,r){1&i&&t._UZ(0,"beneficiario",22),2&i&&t.Q6J("beneficiario",r.$implicit)}const ut=function(){return["edit"]};function ft(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t._uU(2," Editar Poliza "),t.qZA(),t.TgZ(3,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.modifyPoliza(3))}),t._uU(4," Anular Poliza "),t.qZA(),t.TgZ(5,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.modifyPoliza(1))}),t._uU(6," Congelar Poliza "),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,ut)))}function ht(i,r){1&i&&(t.TgZ(0,"span",26),t._uU(1,"La poliza se encuentra anulada, no permite modificaciones"),t.qZA())}function _t(i,r){if(1&i&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),t._uU(4),t.qZA(),t.YNc(5,st,2,0,"span",5),t.YNc(6,lt,2,0,"span",6),t.YNc(7,ct,2,0,"span",7),t.YNc(8,dt,2,0,"span",8),t.YNc(9,pt,2,0,"span",8),t.qZA(),t._UZ(10,"hr"),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"span"),t._uU(15,"Destino"),t.qZA()(),t.TgZ(16,"div",12)(17,"span"),t._uU(18),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",11)(21,"span"),t._uU(22,"Plan"),t.qZA()()(),t.TgZ(23,"div",12)(24,"span"),t._uU(25),t.qZA()(),t.TgZ(26,"div",10)(27,"div",11)(28,"span"),t._uU(29),t.qZA()(),t.TgZ(30,"div",13),t.YNc(31,gt,1,1,"beneficiario",14),t.qZA()()()(),t.TgZ(32,"div",15)(33,"h2"),t._uU(34,"Acciones"),t.qZA(),t._UZ(35,"hr"),t.YNc(36,ft,7,2,"div",16),t.qZA(),t.YNc(37,ht,2,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=t.MAs(38),n=t.oxw();t.xp6(4),t.hij("P\xf3liza : ",n.polizaId,""),t.xp6(1),t.Q6J("ngIf",0===n.poliza.status),t.xp6(1),t.Q6J("ngIf",1===n.poliza.status),t.xp6(1),t.Q6J("ngIf",2===n.poliza.status),t.xp6(1),t.Q6J("ngIf",3===n.poliza.status),t.xp6(1),t.Q6J("ngIf",4===n.poliza.status),t.xp6(9),t.Oqu(n.poliza.destino),t.xp6(7),t.Oqu(n.servicio.servicio),t.xp6(4),t.hij("Pasajeros : ",n.beneficiarios.length,""),t.xp6(2),t.Q6J("ngForOf",n.beneficiarios),t.xp6(5),t.Q6J("ngIf",3!==n.poliza.status)("ngIfElse",e)}}function mt(i,r){1&i&&t._UZ(0,"loading-div")}let vt=(()=>{class i{constructor(){this.polizaService=(0,t.f3M)(x.I),this.beneficiarioService=(0,t.f3M)(P.y),this.ventaService=(0,t.f3M)(z.v),this.route=(0,t.f3M)(m.gz),this.servicioService=(0,t.f3M)(C.C),this.router=(0,t.f3M)(m.F0),this.polizaId=-1,this.loading=!1,this.openModal=!1,this.poliza=null,this.venta=null,this.servicio=null,this.beneficiarios=[]}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.polizaId=+e.id,this.polizaService.getPolizasById(this.polizaId).pipe((0,g.w)(n=>(console.log(n),this.poliza=n[0],this.ventaService.getVentasById(this.poliza.venta_id))),(0,g.w)(n=>(this.venta=n[0],this.beneficiarioService.getBeneficiarioById(this.polizaId))),(0,g.w)(n=>(this.beneficiarios=n.map(a=>(a.fecha_nacimiento=a.fecha_nacimiento.split("T")[0],a)),this.servicioService.getServicioById(this.poliza?this.poliza.servicio_id:0))),(0,g.w)(n=>{this.servicio=n[0];const o=[];if(0===this.poliza?.status){const a=new Date(this.poliza.fecha_salida),l=new Date,d=new Date(l);d.setDate(l.getDate()-1),a<d&&o.push(this.polizaService.putPolizas(this.poliza.poliza_id,this.poliza.fecha_salida.split("T")[0],this.poliza.fecha_retorno.split("T")[0],2))}else this.poliza&&o.push(this.polizaService.putPolizas(this.polizaId,this.poliza?.fecha_salida.split("T")[0],this.poliza?.fecha_retorno.split("T")[0],this.poliza?.status));return(0,y.D)(o)})).subscribe({next:n=>{},error:n=>{console.log(n)},complete:()=>{this.loading=!1}})})}modifyPoliza(e){this.poliza&&this.polizaService.putPolizas(this.poliza.poliza_id,this.poliza.fecha_salida.split("T")[0],this.poliza.fecha_retorno.split("T")[0],e).pipe((0,g.w)(n=>this.ventaService.updateVenta(this.venta.venta_id,3===e?1:this.venta.status))).subscribe({next:n=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:n=>{this.showError(n)}})}showSuccessNotification(){v().fire({icon:"success",title:"Modificado correctamente",text:"Modificado correctamente",position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}showError(e){v().fire({position:"top-end",icon:"error",title:"No se pudo realizar",showConfirmButton:!1,timer:1500})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"left"],[1,"title-info"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[1,"info"],[1,"field"],[1,"title"],[1,"description"],[1,"listado-beneficiarios"],[3,"beneficiario",4,"ngFor","ngForOf"],[1,"right"],["class","actions",4,"ngIf","ngIfElse"],["alternateContent",""],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[3,"beneficiario"],[1,"actions"],[1,"edit",3,"routerLink"],[1,"delete",3,"click"],[2,"text-align","center","width","100%","color","red","display","flex","align-items","center","justify-content","center","padding","20px 0px"]],template:function(e,n){1&e&&(t.YNc(0,_t,39,12,"div",0),t.YNc(1,mt,1,0,"loading-div",1)),2&e&&(t.Q6J("ngIf",!n.loading&&n.poliza&&n.venta&&n.servicio),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,m.rH,U.k,rt],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:20px;position:absolute;width:100%;height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.title-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.title-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;padding:2px 5px}span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green}span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray}span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color)}span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:20px}.field[_ngcontent-%COMP%]{padding:5px 0}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:5px}.listado-beneficiarios[_ngcontent-%COMP%]{padding:20px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);padding:30px}a[_ngcontent-%COMP%]{text-decoration:none}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:10px 5px;margin:10px;font-weight:700}a.edit[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:1px solid var(--main-color)}button.delete[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--main-color);color:var(--main-color)}a.edit[_ngcontent-%COMP%]:hover{background-color:var(--hover-main-color)}button.delete[_ngcontent-%COMP%]:hover{background-color:#dad8e8}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.container[_ngcontent-%COMP%]:nth-child(1){order:2}.container[_ngcontent-%COMP%]:nth-child(2){order:1}}"]}),i})();var Z=c(8194),O=c(5521),I=c(2143);function xt(i,r){1&i&&(t.TgZ(0,"span",19),t._uU(1,"Vigente"),t.qZA())}function Ct(i,r){1&i&&(t.TgZ(0,"span",20),t._uU(1,"Congelada"),t.qZA())}function Pt(i,r){1&i&&(t.TgZ(0,"span",21),t._uU(1,"Activa"),t.qZA())}function Zt(i,r){1&i&&(t.TgZ(0,"span",22),t._uU(1,"Anulada"),t.qZA())}function Mt(i,r){if(1&i&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.etiqueta),t.xp6(1),t.hij(" ",e.etiqueta," ")}}function bt(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23)(2,"form",24),t.NdJ("ngSubmit",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.updateCliente(a))}),t.TgZ(3,"div",10)(4,"label"),t._uU(5,"Nombre(s)"),t.qZA(),t._UZ(6,"input",25),t.qZA(),t.TgZ(7,"div",10)(8,"label"),t._uU(9,"Apellido(s)"),t.qZA(),t._UZ(10,"input",26),t.qZA(),t.TgZ(11,"div",10)(12,"label",27),t._uU(13,"Genero"),t.qZA(),t.TgZ(14,"div",28)(15,"select",29)(16,"option",30),t._uU(17,"Masculino"),t.qZA(),t.TgZ(18,"option",31),t._uU(19,"Femenino"),t.qZA()()()(),t.TgZ(20,"div",10)(21,"label"),t._uU(22," Fecha de nacimiento"),t.qZA(),t._UZ(23,"input",32),t.qZA(),t.TgZ(24,"div",10)(25,"label"),t._uU(26,"Dni o paspaporte"),t.qZA(),t._UZ(27,"input",33),t.qZA(),t.TgZ(28,"div",10)(29,"label"),t._uU(30,"Nacionalidad"),t.qZA(),t.TgZ(31,"select",34),t.YNc(32,Mt,2,2,"option",35),t.qZA()(),t.TgZ(33,"div",10)(34,"label"),t._uU(35,"Nro Whatsapp"),t.qZA(),t.TgZ(36,"div",36),t._UZ(37,"input",37),t.qZA()(),t.TgZ(38,"div",10)(39,"label"),t._uU(40,"Email"),t.qZA(),t._UZ(41,"input",38),t.qZA(),t._UZ(42,"hr",39),t.TgZ(43,"button",40),t._uU(44," Actualizar Beneficiario "),t.qZA()()(),t.BQk()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e),t.xp6(30),t.Q6J("ngForOf",n.paises)}}function zt(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"select",42),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.poliza.status=o)}),t.TgZ(2,"option",43),t._uU(3,"Vigente"),t.qZA(),t.TgZ(4,"option",44),t._uU(5,"Congelar"),t.qZA(),t.TgZ(6,"option",45),t._uU(7,"Activa"),t.qZA(),t.TgZ(8,"option",46),t._uU(9,"Anulada"),t.qZA(),t.TgZ(10,"option",47),t._uU(11,"En Proceso"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.poliza.status)}}function Ot(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),t._uU(4),t.qZA(),t.YNc(5,xt,2,0,"span",5),t.YNc(6,Ct,2,0,"span",6),t.YNc(7,Pt,2,0,"span",7),t.YNc(8,Zt,2,0,"span",8),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"span"),t._uU(14,"Destino"),t.qZA()(),t.TgZ(15,"div",12)(16,"span"),t._uU(17),t.qZA()()(),t.TgZ(18,"div",10)(19,"div",11)(20,"span"),t._uU(21,"Plan"),t.qZA()()(),t.TgZ(22,"div",12)(23,"span"),t._uU(24),t.qZA()(),t.TgZ(25,"div",10)(26,"div",11)(27,"span"),t._uU(28,"Fecha de inicio"),t.qZA()()(),t.TgZ(29,"div",10)(30,"div",11)(31,"span"),t._uU(32,"Fecha de salida"),t.qZA()()(),t.TgZ(33,"div",12)(34,"input",13),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.fecha_salida=o)}),t.qZA()(),t.TgZ(35,"div",10)(36,"div",11)(37,"span"),t._uU(38,"Fecha de retorno"),t.qZA()()(),t.TgZ(39,"div",12)(40,"input",13),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.fecha_retorno=o)}),t.qZA()(),t.TgZ(41,"div",10)(42,"div",11)(43,"span"),t._uU(44),t.qZA()(),t.TgZ(45,"div",14),t.YNc(46,bt,45,2,"ng-container",15),t.qZA()(),t.TgZ(47,"div",10)(48,"div",11)(49,"span"),t._uU(50," Estado de la poliza"),t.qZA()(),t.YNc(51,zt,12,1,"ng-container",1),t.qZA()()(),t.TgZ(52,"div",16)(53,"h2"),t._uU(54,"Acciones"),t.qZA(),t._UZ(55,"hr"),t.TgZ(56,"div",17)(57,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updatePoliza())}),t._uU(58," Realizar cambios a la poliza "),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.hij("P\xf3liza : ",e.polizaId,""),t.xp6(1),t.Q6J("ngIf",0===e.poliza.status),t.xp6(1),t.Q6J("ngIf",1===e.poliza.status),t.xp6(1),t.Q6J("ngIf",2===e.poliza.status),t.xp6(1),t.Q6J("ngIf",3===e.poliza.status),t.xp6(9),t.Oqu(e.poliza.destino),t.xp6(7),t.Oqu(e.servicio.servicio),t.xp6(10),t.Q6J("ngModel",e.fecha_salida),t.xp6(6),t.Q6J("ngModel",e.fecha_retorno),t.xp6(4),t.hij("Pasajeros : ",e.beneficiarios.length,""),t.xp6(2),t.Q6J("ngForOf",e.listPolizas),t.xp6(5),t.Q6J("ngIf",e.poliza)}}function Tt(i,r){1&i&&t._UZ(0,"loading-div")}let wt=(()=>{class i{constructor(){this.polizaService=(0,t.f3M)(x.I),this.beneficiarioService=(0,t.f3M)(P.y),this.ventaService=(0,t.f3M)(z.v),this.route=(0,t.f3M)(m.gz),this.servicioService=(0,t.f3M)(C.C),this.catalogoService=(0,t.f3M)(O.Z),this.router=(0,t.f3M)(m.F0),this.utilService=(0,t.f3M)(I.F),this.polizaId=-1,this.loading=!1,this.openModal=!1,this.countryIso=Z.HT,this.poliza=null,this.venta=null,this.servicio=null,this.beneficiarios=[],this.paises=[],this.fecha_retorno="",this.fecha_salida="",this.listPolizas=[]}ngOnInit(){this.loading=!0,this.catalogoService.getPaises().subscribe(e=>{this.paises=e.filter(n=>1===n.status)}),this.route.params.subscribe(e=>{this.polizaId=+e.id,this.polizaService.getPolizasById(this.polizaId).pipe((0,g.w)(n=>(this.poliza=n[0],this.ventaService.getVentasById(this.poliza.venta_id))),(0,g.w)(n=>(this.venta=n[0],this.beneficiarioService.getBeneficiarioById(this.polizaId))),(0,g.w)(n=>(this.beneficiarios=n,this.listPolizas=this.mapBeneficiariosToForm(this.beneficiarios),this.poliza&&(this.fecha_salida=this.poliza.fecha_salida.split("T")[0],this.fecha_retorno=this.poliza.fecha_retorno.split("T")[0]),this.servicioService.getServicioById(this.poliza?this.poliza.servicio_id:0)))).subscribe({next:n=>{this.loading=!1,this.servicio=n[0]},error:n=>{console.log(n)}})})}mapBeneficiariosToForm(e){const n=[];return e.forEach(o=>{n.push(this.createItemForm(o))}),n}createItemForm(e){const n=e.primer_nombre+" "+("0"===e.segundo_nombre?"":e.segundo_nombre),o=e.primer_apellido+" "+("0"===e.segundo_apellido?"":e.segundo_apellido),a=1===e.sexo?"Masculino":"Femenino";return new s.cw({cliente_id:new s.NI(e.beneficiario_id,s.kI.required),nombres:new s.NI(n,s.kI.required),apellidos:new s.NI(o,s.kI.required),age:new s.NI(e.fecha_nacimiento.split("T")[0],s.kI.required),ci:new s.NI(e.nro_identificacion,s.kI.required),email:new s.NI(e.email,s.kI.required),telf:new s.NI(e.telefono,s.kI.required),origen:new s.NI(e.origen,s.kI.required),gender:new s.NI(a,s.kI.required)})}updateCliente(e){console.log(e),e.valid||console.log("El beneficiario no es valido"),console.log(e);const{cliente_id:n,nombres:o,apellidos:a,age:l,ci:d,email:p,telf:u,origen:f,gender:_}=e.value,M=this.splitFirstWord(o),T=M.firsWord,w=M.resOfWord,b=this.splitFirstWord(a);this.beneficiarioService.updateBeneficiario(n,T,w,b.firsWord,b.resOfWord,d,p,u,f,_,l).subscribe({next:D=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:D=>{this.showError(D)}})}splitFirstWord(e){const n=this.normalizeSpaces(e),o=n.indexOf(" ");return-1===o?{firsWord:e,resOfWord:""}:{firsWord:n.slice(0,o),resOfWord:n.slice(o+1).trimEnd()}}normalizeSpaces(e){return e.split(" ").filter(l=>""!==l).join(" ")}updatePoliza(){this.poliza&&this.venta&&this.polizaService.putPolizas(this.polizaId,this.fecha_salida,this.fecha_retorno,this.poliza.status).pipe((0,g.w)(e=>this.ventaService.updateVenta(this.venta.venta_id,3===this.poliza?.status?1:4===this.poliza?.status?0:3))).subscribe({next:e=>{this.showSuccessNotification(),this.router.navigate(["dashboard/polizas/listado-polizas"])},error:e=>{this.showError(e)}})}showSuccessNotification(){v().fire({icon:"success",title:"Modificado correctamente",text:"Modificado correctamente",position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}showError(e){v().fire({position:"top-end",icon:"error",title:"No se pudo realizar",showConfirmButton:!1,timer:1500})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"left"],[1,"title-info"],["class","vigente",4,"ngIf"],["class","congelada",4,"ngIf"],["class","uso",4,"ngIf"],["class","anulada",4,"ngIf"],[1,"info"],[1,"field"],[1,"title"],[1,"description"],["type","date",2,"width","300px","padding","10px",3,"ngModel","ngModelChange"],[1,"listado-beneficiarios"],[4,"ngFor","ngForOf"],[1,"right"],[1,"actions"],[1,"edit",3,"click"],[1,"vigente"],[1,"congelada"],[1,"uso"],[1,"anulada"],[1,"card"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Ingrese nombres aqui","formControlName","nombres","name","nombres"],["type","text","placeholder","Ingrese apellidos aqui","formControlName","apellidos","name","apellidos"],["for","nombre"],[1,"select"],["name","gender","id","gender","formControlName","gender","name","gender"],["value","Masculino"],["value","Femenino"],["type","date","placeholder","Fecha de nacimiento","formControlName","age","name","age"],["type","text","placeholder","Inserte su pasaporte aqui","formControlName","ci","name","ci"],["name","nacionalidad","id","nacionalidad","formControlName","origen","name","origen"],[3,"value",4,"ngFor","ngForOf"],[1,"datos-numero",2,"margin","10px 0px"],["type","text","placeholder","Inserte su numero aqui","formControlName","telf","name","telf"],["type","email","placeholder","Inserte su email aqui","formControlName","email","name","email"],[1,"poliza"],[1,"edit"],[3,"value"],[3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"]],template:function(e,n){1&e&&(t.YNc(0,Ot,59,12,"div",0),t.YNc(1,Tt,1,0,"loading-div",1)),2&e&&(t.Q6J("ngIf",!n.loading&&n.poliza&&n.venta&&n.servicio),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,s.On,U.k,Z.mh],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:20px;position:absolute;width:100%;height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto}.title-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.title-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;padding:2px 5px}span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green}span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray}span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color)}span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered}h2[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;font-weight:700;color:var(--text-color)}hr[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid coral}.info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:20px}.field[_ngcontent-%COMP%]{padding:5px 0;width:100%}.title[_ngcontent-%COMP%]{font-size:12px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:5px}.listado-beneficiarios[_ngcontent-%COMP%]{padding:20px;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);padding:30px}a[_ngcontent-%COMP%]{text-decoration:none}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:10px 5px;margin:10px;font-weight:700}a.edit[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:1px solid var(--main-color)}button.delete[_ngcontent-%COMP%], button.edit[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}a.edit[_ngcontent-%COMP%]:hover{background-color:var(--hover-main-color)}select[_ngcontent-%COMP%]{width:400px;margin:10px 0;padding:10px;font-weight:500}option[_ngcontent-%COMP%]{font-weight:500}button.delete[_ngcontent-%COMP%]:hover{background-color:#dad8e8}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.titular[_ngcontent-%COMP%]{padding-left:10px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card[_ngcontent-%COMP%]{border:1px solid var(--text-color);padding:10px}.datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:0 10px;font-size:12px;margin:0 10px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:5px 10px}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}select[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}}"]}),i})();var S=c(6306),N=c(8504),At=c(8105),qt=c(1323),yt=c(856),Ut=c(7405);function It(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"li"),t.O4$(),t.TgZ(1,"svg",36),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.remove(a))}),t._UZ(2,"path",37),t.qZA(),t._uU(3),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(3),t.hij(" ",e," ")}}function St(i,r){if(1&i&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.etiqueta),t.xp6(1),t.hij(" ",e.etiqueta," ")}}function Nt(i,r){if(1&i&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.etiqueta),t.xp6(1),t.hij(" ",e.etiqueta," ")}}function Dt(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",39)(2,"form",40)(3,"div",41)(4,"label"),t._uU(5,"Nombre(s)"),t.qZA(),t._UZ(6,"input",42),t.qZA(),t.TgZ(7,"div",41)(8,"label"),t._uU(9,"Apellido(s)"),t.qZA(),t._UZ(10,"input",43),t.qZA(),t.TgZ(11,"div",41)(12,"label",44),t._uU(13,"Genero"),t.qZA(),t.TgZ(14,"div",45)(15,"select",46)(16,"option",47),t._uU(17,"Masculino"),t.qZA(),t.TgZ(18,"option",48),t._uU(19,"Femenino"),t.qZA()()()(),t.TgZ(20,"div",41)(21,"label"),t._uU(22," Fecha de nacimiento"),t.qZA(),t._UZ(23,"input",49),t.qZA(),t.TgZ(24,"div",41)(25,"label"),t._uU(26,"Dni o paspaporte"),t.qZA(),t._UZ(27,"input",50),t.qZA(),t.TgZ(28,"div",41)(29,"label"),t._uU(30,"Nacionalidad"),t.qZA(),t.TgZ(31,"select",51),t.YNc(32,Nt,2,2,"option",18),t.qZA()(),t.TgZ(33,"div",41)(34,"label"),t._uU(35,"Nro Whatsapp"),t.qZA(),t.TgZ(36,"div",52)(37,"select",53)(38,"option",54),t._uU(39,"591"),t.qZA(),t.TgZ(40,"option",55),t._uU(41,"999"),t.qZA(),t.TgZ(42,"option",56),t._uU(43,"653"),t.qZA(),t.TgZ(44,"option",57),t._uU(45,"124"),t.qZA()(),t._UZ(46,"input",58),t.qZA()(),t.TgZ(47,"div",41)(48,"label"),t._uU(49,"Email"),t.qZA(),t._UZ(50,"input",59),t.qZA(),t._UZ(51,"hr",29),t.qZA(),t.TgZ(52,"input",60),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.titular=o)})("change",function(){const a=t.CHM(e).$implicit;return t.KtG(a.titular)}),t.qZA(),t.TgZ(53,"label",61),t._uU(54,"Titular"),t.qZA()(),t.BQk()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(30),t.Q6J("ngForOf",n.paises),t.xp6(20),t.Q6J("ngModel",e.titular)}}function Jt(i,r){if(1&i&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.servicio_id),t.xp6(1),t.Oqu(e.servicio)}}function Ft(i,r){if(1&i&&(t.TgZ(0,"div",41)(1,"span"),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.gM2(5,1,e.costo,"USD","$","1.1-2"))}}function Et(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.AsE("",e.cupon.nombre," - ",t.gM2(2,2,e.montoTotal,"USD","$","1.1-2"),"")}}function Bt(i,r){if(1&i&&(t.TgZ(0,"span",41)(1,"span"),t._uU(2,"Descuentos"),t.qZA(),t.YNc(3,Et,3,7,"span",6),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.listDescuentos)}}function kt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",62)(1,"span",63),t._uU(2," La lista de planes disponibles es resultado directo de la informaci\xf3n proveida en el formulario de arriba. Si deceas ver mas planes cambia los datos del formulario y dale click, denuevo, a \u201cGenera planes para polizas\u201d "),t.qZA(),t.TgZ(3,"div",41)(4,"label"),t._uU(5,"Planes"),t.qZA(),t.TgZ(6,"select",64),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedPlan=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSelectPlan())}),t.YNc(7,Jt,2,2,"option",18),t.qZA()(),t.YNc(8,Ft,6,6,"div",65),t.YNc(9,Bt,4,1,"span",65),t.TgZ(10,"div",41)(11,"label"),t._uU(12,"Estado de la poliza"),t.qZA(),t.TgZ(13,"select",66),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.status=o)}),t.TgZ(14,"option",67),t._uU(15,"Pagado"),t.qZA(),t.TgZ(16,"option",68),t._uU(17,"Impaga"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.selectedPlan),t.xp6(1),t.Q6J("ngForOf",e.ListadoServiciosToShow),t.xp6(1),t.Q6J("ngIf",e.costo>-1),t.xp6(1),t.Q6J("ngIf",e.costo>-1),t.xp6(4),t.Q6J("ngModel",e.status)}}const Yt=[{path:"polizas",children:[{path:"generar-polizas",component:(()=>{class i{createItemForm(){return new s.cw({nombres:new s.NI(null,s.kI.required),apellidos:new s.NI(null,s.kI.required),age:new s.NI(null,s.kI.required),ci:new s.NI(null,s.kI.required),email:new s.NI(null,s.kI.required),ext:new s.NI(null,s.kI.required),telf:new s.NI(null,s.kI.required),origen:new s.NI("Bolivia",s.kI.required),gender:new s.NI(null,s.kI.required)})}constructor(e,n,o,a,l,d,p,u,f,_,M,T,w){this.countriesService=e,this.planesServices=n,this.preciosServices=o,this.serviciosService=a,this.utilsService=l,this.cuponesService=d,this.catalogoService=p,this.clientesService=u,this.ventasService=f,this.polizasService=_,this.beneficiariosService=M,this.polizasPlusService=T,this.router=w,this.nextId=0,this.tags=[],this.paises=[],this.inputValue="",this.listadoPlanes=[],this.listadoPrecios=[],this.listadoServicios=[],this.listadoCupones=[],this.ListadoServiciosToShow=null,this.listPolizas=[],this.minDate="",this.inputMinDate="",this.inputMaxDate="",this.selectedPlan=0,this.diffDays=0,this.costo=-1,this.listDescuentos=[],this.status=0,this.statusVenta=0,this.minDate=(new Date).toISOString().split("T")[0]}ngOnInit(){this.addItem(),this.countriesService.getPaises().subscribe(e=>{this.paises=e}),this.planesServices.getPlanes().pipe((0,g.w)(e=>(this.listadoPlanes=e,this.preciosServices.getPrecios())),(0,g.w)(e=>(this.listadoPrecios=e,this.serviciosService.getServicios())),(0,g.w)(e=>(this.listadoServicios=e,this.cuponesService.getCupones()))).subscribe(e=>{this.listadoCupones=e.filter(n=>1===n.status),this.listadoCupones=this.utilsService.filterCouponsByDates(this.listadoCupones)})}remove(e){let n=this.tags.indexOf(e);this.tags=[...this.tags.slice(0,n),...this.tags.slice(n+1)]}addTag(e){if("Enter"===e.key){let n=e.target.value.replace(/\s+/g," ");this.insertTag(n),e.target.value=""}}insertTag(e){"pais"!==e&&e.length>1&&!this.tags.includes(e)&&e.split(",").forEach(n=>{this.tags.push(n)})}onSelect(e){const n=e.target;n&&(this.insertTag(n.value),n.value="pais")}addItem(){const e={form:this.createItemForm(),id:this.nextId++,titular:!1};this.listPolizas.push(e),this.ListadoServiciosToShow=null}removeItem(e){this.listPolizas=this.listPolizas.filter(n=>n.id!==e)}generarPlan(){const e=[];this.listPolizas.forEach(o=>{e.push(o.form.value.age)});const n=this.clientesAge(e);this.diffDays=this.getExactDateDifference(this.inputMinDate,this.inputMaxDate),this.ListadoServiciosToShow=this.filterServicesByAge(this.listadoServicios,n),this.ListadoServiciosToShow=this.filterServicesByPrice(this.ListadoServiciosToShow,this.listadoPrecios,this.diffDays)}clientesAge(e){return e.map(o=>this.calculateAgeDifference(o))}calculateAgeDifference(e){const n=new Date,o=new Date(e),l=(n.getTime()-o.getTime())/315576e5;return Math.floor(l)}filterServicesByAge(e,n){return e.filter(a=>{for(const l of n)if(1*a.edad_base<=1*l&&1*a.edad_limite>=1*l)return console.log(a,l),!0;return!1})}filterServicesByPrice(e,n,o){const a=e.map(p=>p.servicio_id);let l=n.filter(p=>a.includes(p.servicio_id));return l=l.filter(p=>1*o>=1*p.limite_inferior&&1*o<=1*p.limite_superior),this.filterServiciosWithoutPrecio(e,l)}getExactDateDifference(e,n){const o=new Date(e),a=new Date(n),l=Math.abs(a.getTime()-o.getTime());return Math.floor(l/864e5)}filterServiciosWithoutPrecio(e,n){return e.filter(o=>n.some(a=>a.servicio_id===o.servicio_id))}onSelectPlan(){this.costo=this.utilsService.obtenerCostoPlan(this.listadoPrecios,this.selectedPlan,this.diffDays);const e=this.listadoCupones.filter(n=>1*n.servicio_id==1*this.selectedPlan);this.listDescuentos=e.map(n=>this.realizarDescuento(this.costo,this.listPolizas.length,n))}mapListDescuentos(e,n){const o=[];if(o.push(e.reduce((a,l)=>a+l.montoTotal,0).toString()),e.length!=n)for(let a=0;a<n-1;a++)o.push("0");return o}mapCantDescuentos(e,n){const o=[];for(let a=0;a<n;a++)o.push("0");return o}realizarDescuento(e,n,o){switch(o.tipo_valor){case 1:return{cupon:o,monto:e*(o.valor/100),montoTotal:e*n*(o.valor/100)};case 2:return{cupon:o,monto:o.valor,montoTotal:o.valor*n};default:return{cupon:o,monto:e*(o.valor/100),montoTotal:o.valor*n}}}generarVenta(){const e=this.listPolizas.filter(n=>1==n.titular);1===e.length?this.listPolizas.every(n=>n.form.valid)?(v().fire({text:"Espere un momento mientras se procesa la informacion",imageUrl:"https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif",showConfirmButton:!1,allowOutsideClick:!1,imageWidth:200,imageHeight:200,imageAlt:"Custom image"}),this.clientesService.getClienteById(e[0].form.value.ci).pipe((0,g.w)(n=>{let o=0;const a=this.listPolizas.length.toString(),l=this.selectedPlan.toString(),d=this.listDescuentos.reduce((u,f)=>u+f.montoTotal,0).toString();return n.length>0?(o=n[0].cliente_id,this.ventasService.postVenta(o,a,d,"0",0,l,this.inputMinDate,this.inputMaxDate,this.status)):(console.log(" no se  encontro cliente"),this.clientesService.postCliente({apellido:e[0].form.value.apellidos,nombre:e[0].form.value.nombres,nit_ci:e[0].form.value.ci,origen:e[0].form.value.origen,email:e[0].form.value.email,nro_contacto:e[0].form.value.telf}).pipe((0,g.w)(f=>(o=f.id,this.ventasService.postVenta(o,a,d,"0",0,l,this.inputMinDate,this.inputMaxDate,this.status)))).pipe((0,S.K)(f=>(0,N._)(f))))}),(0,g.w)(n=>{console.log(n);const o=n.id;return console.log(o,this.selectedPlan,this.tags.join(","),this.inputMinDate,this.inputMaxDate,0),this.polizasService.postPolizas(o,this.selectedPlan,this.tags.join(","),this.inputMinDate,this.inputMaxDate,1,3===this.status?0:4)}),(0,g.w)(n=>{const o=[];return this.listPolizas.forEach(a=>{const l=this.splitFirstWord(a.form.value.nombres),d=l.firsWord,p=l.resOfWord,u=this.splitFirstWord(a.form.value.apellidos);o.push(this.beneficiariosService.postBeneficiario(n.id,u.firsWord,u.resOfWord,d,p,a.form.value.ci,a.form.value.age,"Masculino"===a.form.value.gender?"1":"2 ",a.form.value.origen,a.form.value.email.trimEnd(),a.form.value.telf))}),(0,y.D)(o).pipe((0,S.K)(a=>(0,N._)(a)))})).subscribe({next:n=>{v().close(),this.successMessage("Se ha registrado la venta correctamente")},error:n=>{console.log(n),this.showErrorMsg(n)}})):this.showErrorMsg("Revise los datos de cada poliza, el icono marca la poliza con error"):this.showErrorMsg("Se necesita que sea un titular obligatoriamente")}showErrorMsg(e){v().fire({icon:"error",title:"Oops...",text:e})}successMessage(e){v().close(),v().fire({title:"Venta registrada correctamente",icon:"success",text:e,showCancelButton:!0,confirmButtonColor:"#16F80B",cancelButtonColor:"#d33",denyButtonText:"Finalizar",confirmButtonText:"Dirigir a listado"}).then(n=>{n.isConfirmed?this.router.navigateByUrl("/dashboard/polizas-detalles"):n.isDenied&&console.log("Termino")})}splitFirstWord(e){const n=this.normalizeSpaces(e),o=n.indexOf(" ");return-1===o?{firsWord:e,resOfWord:""}:{firsWord:n.slice(0,o),resOfWord:n.slice(o+1).trimEnd()}}normalizeSpaces(e){return e.split(" ").filter(l=>""!==l).join(" ")}showData(e){console.log(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(O.Z),t.Y36(At.k),t.Y36(qt.v),t.Y36(C.C),t.Y36(I.F),t.Y36(yt.p),t.Y36(O.Z),t.Y36(q.Y),t.Y36(z.v),t.Y36(x.I),t.Y36(P.y),t.Y36(Ut.m),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-generar-polizas"]],decls:62,vars:8,consts:[[1,"container"],[1,"process"],[1,"data"],[1,"destinos"],[1,"list-item"],[1,"tagList"],[4,"ngFor","ngForOf"],[1,"options","list"],["xmlns","http://www.w3.org/2000/svg","height","20","viewBox","0 96 960 960","width","20"],["d","M444 816V612H240v-72h204V336h72v204h204v72H516v204h-72Z"],[1,"listado",3,"change"],["value","pais"],["value","America"],["value","Europa"],["value","Asia"],["value","Oceania"],["value","Africa"],["value","Antartida"],[3,"value",4,"ngFor","ngForOf"],[1,"fechas"],[1,"fechas-container"],[1,"fecha"],["for","fecha_salida"],["type","date","name","fecha_salida","id","fecha_salida",3,"min","ngModel","ngModelChange"],["for","fecha_retorno"],["type","date","name","fecha_retorno","id","fecha_retorno",3,"ngModel","ngModelChange"],[1,"pasajeros"],[1,"list-cards"],[1,"add",3,"click"],[1,"poliza"],[1,"space-button"],[1,"generar",3,"click"],["class","listado-plan",4,"ngIf"],[1,"actions"],[1,"buttons"],[1,"emitir","active",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","20","width","20",3,"click"],["d","M6.062 15 5 13.938 8.938 10 5 6.062 6.062 5 10 8.938 13.938 5 15 6.062 11.062 10 15 13.938 13.938 15 10 11.062Z"],[3,"value"],[1,"card"],[3,"formGroup"],[1,"field"],["type","text","placeholder","Ingrese nombres aqui","formControlName","nombres","name","nombres"],["type","text","placeholder","Ingrese apellidos aqui","formControlName","apellidos","name","apellidos"],["for","nombre"],[1,"select"],["name","gender","id","gender","formControlName","gender","name","gender"],["value","Masculino"],["value","Femenino"],["type","date","placeholder","Fecha de nacimiento","formControlName","age","name","age"],["type","text","placeholder","Inserte su pasaporte aqui","formControlName","ci","name","ci"],["name","nacionalidad","id","nacionalidad","formControlName","origen","name","origen"],[1,"datos-numero"],["name","initial","formControlName","ext","name","ext"],["value","591"],["value","999"],["value","653"],["value","124"],["type","text","placeholder","Inserte su numero aqui","formControlName","telf","name","telf"],["type","email","placeholder","Inserte su email aqui","formControlName","email","name","email"],["type","checkbox",3,"ngModel","ngModelChange","change"],["for","titular",1,"titular"],[1,"listado-plan"],[1,"alert"],[1,"planes",3,"ngModel","ngModelChange","change"],["class","field",4,"ngIf"],[3,"ngModel","ngModelChange"],["value","3"],["value","1"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),t._uU(5,"Paises incluidos (destinos)"),t.qZA(),t.TgZ(6,"div",4)(7,"ul",5),t.YNc(8,It,4,1,"li",6),t.qZA(),t.TgZ(9,"div",7),t.O4$(),t.TgZ(10,"svg",8),t._UZ(11,"path",9),t.qZA(),t.kcU(),t.TgZ(12,"select",10),t.NdJ("change",function(a){return n.onSelect(a)}),t.TgZ(13,"option",11),t._uU(14,"Agregar"),t.qZA(),t.TgZ(15,"option",12),t._uU(16,"America"),t.qZA(),t.TgZ(17,"option",13),t._uU(18,"Europa"),t.qZA(),t.TgZ(19,"option",14),t._uU(20,"Asia"),t.qZA(),t.TgZ(21,"option",15),t._uU(22,"Oceania"),t.qZA(),t.TgZ(23,"option",16),t._uU(24,"Africa"),t.qZA(),t.TgZ(25,"option",17),t._uU(26,"Antartida"),t.qZA(),t.YNc(27,St,2,2,"option",18),t.qZA()()()(),t.TgZ(28,"div",19)(29,"span"),t._uU(30,"Fechas"),t.qZA(),t.TgZ(31,"div",20)(32,"div",21)(33,"label",22),t._uU(34,"Fecha de Salida"),t.qZA(),t.TgZ(35,"input",23),t.NdJ("ngModelChange",function(a){return n.inputMinDate=a}),t.qZA()(),t.TgZ(36,"div",21)(37,"label",24),t._uU(38,"Fecha de Retorno"),t.qZA(),t.TgZ(39,"input",25),t.NdJ("ngModelChange",function(a){return n.inputMaxDate=a}),t.qZA()()()(),t.TgZ(40,"div",26)(41,"span"),t._uU(42),t.qZA(),t.TgZ(43,"div",27),t.YNc(44,Dt,55,3,"ng-container",6),t.qZA(),t.TgZ(45,"button",28),t.NdJ("click",function(){return n.addItem()}),t.O4$(),t.TgZ(46,"svg",8),t._UZ(47,"path",9),t.qZA(),t._uU(48," Agregar pasajero(a) "),t.qZA()(),t.kcU(),t._UZ(49,"hr",29),t.TgZ(50,"div",30)(51,"button",31),t.NdJ("click",function(){return n.generarPlan()}),t._uU(52," Generar planes para polizas "),t.qZA()(),t.YNc(53,kt,18,5,"div",32),t.qZA()(),t.TgZ(54,"div",33)(55,"h2"),t._uU(56,"Acciones"),t.qZA(),t._UZ(57,"hr"),t.TgZ(58,"div",34)(59,"button",35),t.NdJ("click",function(){return n.generarVenta()}),t._uU(60," Emitir Poliza "),t.qZA()(),t._UZ(61,"hr"),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("ngForOf",n.tags),t.xp6(19),t.Q6J("ngForOf",n.paises),t.xp6(8),t.Q6J("min",n.minDate)("ngModel",n.inputMinDate),t.xp6(4),t.Q6J("ngModel",n.inputMaxDate),t.xp6(3),t.hij("Pasajeros (",n.listPolizas.length,")"),t.xp6(2),t.Q6J("ngForOf",n.listPolizas),t.xp6(9),t.Q6J("ngIf",n.ListadoServiciosToShow))},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.On,Z.mh,h.H9],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;grid-gap:20px;position:absolute;width:100%;min-height:calc(100vh - (var(--main-header-height) + 20px));margin-top:var(--main-header-height);top:0;left:0;padding:10px;overflow-y:auto;overflow-x:hidden;animation:aparecerDesdeDerecha .5s ease-out}.process[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;min-height:750px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%;max-width:100vw;background-color:var(--body-bg);border-radius:2px;box-shadow:0 0 5px #0003}hr[_ngcontent-%COMP%]{border:1px solid coral}span[_ngcontent-%COMP%]{color:#000}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.buttons[_ngcontent-%COMP%]   button.cancelar[_ngcontent-%COMP%]:hover, .buttons[_ngcontent-%COMP%]   button.emitir.active[_ngcontent-%COMP%]:hover{scale:1.05}.buttons[_ngcontent-%COMP%]   .cancelar[_ngcontent-%COMP%]{background-color:var(--body-bg);color:var(--main-color);border:1px solid var(--main-color)}.buttons[_ngcontent-%COMP%]   .emitir[_ngcontent-%COMP%]{background-color:#e6dfdf;color:var(--text-color);height:-moz-fit-content;height:fit-content;min-height:30px;cursor:not-allowed}.buttons[_ngcontent-%COMP%]   .emitir.active[_ngcontent-%COMP%]{background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;cursor:pointer}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;justify-content:center}.fechas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;margin:10px}.fecha[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px;height:-moz-fit-content;height:fit-content;padding:0 20px}.card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin:10px}.card[_ngcontent-%COMP%]{box-shadow:0 0 5px #0003;padding:10px;width:60%}.card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:90%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:67%;margin-left:10px}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%}hr.poliza[_ngcontent-%COMP%]{border:1px solid #E4E6EA;margin:10px}.pasajeros[_ngcontent-%COMP%]{margin:10px}.list-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:flex-start;gap:10px;margin:10px}.fecha[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.field[_ngcontent-%COMP%]   .datos-numero[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20%;height:30px;border-radius:2px;padding:5px;font-size:1rem;font-weight:700;color:var(--text-color)}.titular[_ngcontent-%COMP%]{padding-left:10px}button.add[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background:none;color:var(--main-color);fill:var(--main-color);border:none;cursor:pointer}.space-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:-moz-fit-content;height:fit-content}button.generar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80%;height:30px;margin:5px;border:none;border-radius:2px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease-in-out;background-color:var(--main-color);color:#fff}.list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:2px;align-items:flex-start;margin-bottom:10px}.tagList[_ngcontent-%COMP%]{border:none}.tagList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:var(--main-color)}.tagList[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:7px;border-radius:5px}.tagList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--main-color);margin:1px 3px;list-style:none;border-radius:5px;background-color:var(--body-bg);padding:2px 3px 5px 10px;border:1px solid var(--main-color);display:flex;align-items:center}.tagList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;fill:var(--main-color);margin-right:8px;font-size:12px;cursor:pointer;border-radius:50%;justify-content:center}.tagList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:5px;border:none;outline:none;font-size:16px;background-color:var(--body-bg)}.options[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.options[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;justify-content:center;background:var(--main-color);color:#fff;width:100%;border:none;height:-moz-fit-content;height:fit-content}.options[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;width:100%;color:var(--text-color)}.list[_ngcontent-%COMP%]{padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;height:-moz-fit-content;height:fit-content;background:var(--main-color);border-radius:10px}.listado-plan[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-size:12px;padding:5px 2px}.alert[_ngcontent-%COMP%]{width:100%;display:flex;padding:10px;margin:10px;background-color:#ccf4f9;border:1px solid var(--main-color);color:var(--main-color)}.listado-plan[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.listado-plan[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{padding:10px 20px;width:100%;display:flex;flex-direction:column}.listado-plan[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;padding:10px 0}@media screen and (max-width: 1280px){.container[_ngcontent-%COMP%]{width:100%;margin-left:0}}@media (max-width:768px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.process[_ngcontent-%COMP%]{background-color:var(--body-bg);padding:10px;height:-moz-fit-content;height:fit-content;border-radius:2px;box-shadow:0 0 5px #0003;width:100%;max-width:100vw;align-items:flex-start;justify-content:flex-start}.actions[_ngcontent-%COMP%]{min-height:100%;height:100%;margin-bottom:40px}.process[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:100%}}"]}),i})()},{path:"listado-polizas",component:nt},{path:":id",component:vt},{path:":id/edit",component:wt}]}];let Lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(Yt),m.Bz]}),i})();var Qt=c(1837);let jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,J.K,s.UX,s.u5,F.D,Lt,Qt.m,Z.J7]}),i})()}}]);